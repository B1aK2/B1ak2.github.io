<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head><meta name="generator" content="Hexo 3.9.0">

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!--Description-->
    
        <meta name="description" content="3 变量3.12 字符串类型：string">
    

    <!--Author-->
    
        <meta name="author" content="John Doe">
    

    <!--Open Graph Title-->
    
        <meta property="og:title" content="go语言笔记">
    

    <!--Open Graph Description-->
    

    <!--Open Graph Site Name-->
    <meta property="og:site_name" content="B1aK2&#39;s Blog">

    <!--Type page-->
    
        <meta property="og:type" content="article">
    

    <!--Page Cover-->
    

    <meta name="twitter:card" content="summary">
    

    <!-- Title -->
    
    <title>go语言笔记 - B1aK2&#39;s Blog</title>

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.2/css/bootstrap.min.css" integrity="sha384-y3tfxAZXuh4HwSYylfB+J125MxIs6mR5FOHamPBG064zB+AFeWH94NdvaCBm8qnd" crossorigin="anonymous">

    <!-- Custom Fonts -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="//oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="//oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Gallery -->
    <link href="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.css" type="text/css" rel="stylesheet">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/style.css">

    <!-- Google Analytics -->
    


</head>


<body>

<div class="bg-gradient"></div>
<div class="bg-pattern"></div>

<!-- Menu -->
<!--Menu Links and Overlay-->
<div class="menu-bg">
    <div class="menu-container">
        <ul>
            
            <li class="menu-item">
                <a href="/">
                    主页
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/archives">
                    归档
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/categories">
                    分类
                </a>
            </li>
            
        </ul>
    </div>
</div>

<!--Hamburger Icon-->
<nav>
    <a href="#menu"></a>
</nav>

<div class="container">

    <!-- Main Content -->
    <div class="row">
    <div class="col-sm-12">

        <!--Title and Logo-->
        <header>
    <div class="logo">
        <a href="/"><i class="logo-icon fa fa-cube" aria-hidden="true"></i></a>
        
    </div>
</header>

        <section class="main">
            
<div class="post">

    <div class="post-header">
        <h1 class="title">
            <a href="/2019/05/30/Go语言笔记/">
                go语言笔记
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2019-05-30</span>
            
            
            
        </div>
    </div>

    <div class="content">

        <!-- Gallery -->
        

        <!-- Post Content -->
        <h1 id="3-变量"><a href="#3-变量" class="headerlink" title="3 变量"></a>3 变量</h1><h2 id="3-12-字符串类型：string"><a href="#3-12-字符串类型：string" class="headerlink" title="3.12 字符串类型：string"></a>3.12 字符串类型：string</h2><a id="more"></a>
<ol>
<li><p>Go语言的字符串的字节使用UTF-8编码表示Unicode文本，这样Golang统一使用UTF-8编码，中文乱码问题不会困扰程序员</p>
</li>
<li><p>字符串一旦赋值了，字符串就不能修改了：在Go中字符串是不可变的</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">	)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> address <span class="keyword">string</span> = <span class="string">"北京长城 110 hello world"</span></span><br><span class="line">	fmt.Println(address)</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 字符串一旦赋值了，字符串就不能修改了：在Go中字符串是不可变的</span></span><br><span class="line">	<span class="keyword">var</span> str = <span class="string">"hello"</span></span><br><span class="line">	str[<span class="number">0</span>] = <span class="string">'a'</span> <span class="comment">// 这里就不能去修改str的内容，即go中的字符串是不可变的。</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>字符串的两种形式<br>（1）双引号，会识别转义字符<br>（2）反应号，以字符串的原生形式输出，包括换行和特殊字符，可以实现防止攻击、输出源代码等</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">	)</span><br><span class="line">	</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> address <span class="keyword">string</span> = <span class="string">"北京长城 110 hello world"</span></span><br><span class="line">	fmt.Println(address)</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 字符串一旦赋值了，字符串就不能修改了：在Go中字符串是不可变的</span></span><br><span class="line">	</span><br><span class="line">	str2 := <span class="string">"abc/nabc"</span></span><br><span class="line">	fmt.Println(str2)</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 使用反引号“``”示例</span></span><br><span class="line">	str3 := <span class="string">`</span></span><br><span class="line"><span class="string">package main</span></span><br><span class="line"><span class="string">import (</span></span><br><span class="line"><span class="string">	"fmt"</span></span><br><span class="line"><span class="string">	)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">	func main() &#123;</span></span><br><span class="line"><span class="string">	var address string = "北京长城 110 hello world"</span></span><br><span class="line"><span class="string">	fmt.Println(address)</span></span><br><span class="line"><span class="string">		// 字符串一旦赋值了，字符串就不能修改了：在Go中字符串是不可变的</span></span><br><span class="line"><span class="string">	var str = "hello"</span></span><br><span class="line"><span class="string">	str[0] = 'a' // 这里就不能去修改str的内容，即go中的字符串是不可变的。</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">`</span></span><br><span class="line">	fmt.Println(str3)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>字符串的拼接方式</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">	)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 字符串的拼接操作，使用加号拼接</span></span><br><span class="line">	<span class="keyword">var</span> str = <span class="string">"hello"</span> + <span class="string">"world"</span></span><br><span class="line">	str += <span class="string">" haha!"</span></span><br><span class="line"></span><br><span class="line">	fmt.Println(str)</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 当一个拼接的操作很长时，怎么办，可以分行写，但加号要保留在上一行末尾</span></span><br><span class="line">	<span class="keyword">var</span> str2 = <span class="string">"hello"</span> + <span class="string">"world"</span> + <span class="string">"hello"</span> + <span class="string">"world"</span> + <span class="string">"hello"</span> + <span class="string">"world"</span> +<span class="string">"hello"</span> + <span class="string">"world"</span> + </span><br><span class="line">	<span class="string">"hello"</span> + <span class="string">"world"</span><span class="string">"hello"</span> + <span class="string">"world"</span> +</span><br><span class="line">	<span class="string">"hello"</span> + <span class="string">"world"</span></span><br><span class="line"></span><br><span class="line">	fmt.Println(str2)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="3-13-基本数据类型默认值"><a href="#3-13-基本数据类型默认值" class="headerlink" title="3.13 基本数据类型默认值"></a>3.13 基本数据类型默认值</h2><h3 id="3-13-1-基本介绍"><a href="#3-13-1-基本介绍" class="headerlink" title="3.13.1 基本介绍"></a>3.13.1 基本介绍</h3><p>&emsp;&emsp;在Go中，数据类型都有一个默认值，当程序员没有赋值时，就会保留默认值，在go中，默认值又叫零值</p>
<h3 id="3-13-2-基本类型的默认值如下"><a href="#3-13-2-基本类型的默认值如下" class="headerlink" title="3.13.2 基本类型的默认值如下"></a>3.13.2 基本类型的默认值如下</h3><ul>
<li>整型 -&gt; 0</li>
<li>浮点型 -&gt; 0</li>
<li>字符型 -&gt; “”</li>
<li>布尔型 -&gt; false</li>
</ul>
<h2 id="3-14-基本数据类型的相互转换"><a href="#3-14-基本数据类型的相互转换" class="headerlink" title="3.14 基本数据类型的相互转换"></a>3.14 基本数据类型的相互转换</h2><h3 id="3-14-1-基本介绍"><a href="#3-14-1-基本介绍" class="headerlink" title="3.14.1 基本介绍"></a>3.14.1 基本介绍</h3><p>&emsp;&emsp;Golang和Java/C不同，Go在不同类型的变量之间赋值时需要<code>显示转换</code>。也就是说Golang中数据类型不能自动转换。</p>
<h3 id="3-14-2-基本语法"><a href="#3-14-2-基本语法" class="headerlink" title="3.14.2 基本语法"></a>3.14.2 基本语法</h3><ul>
<li>表达式T(v)将值v转换为类型T</li>
<li>T：就是数据类型，比如int32，int64，float32等等</li>
<li>v：就是需要转换的变量</li>
</ul>
<h3 id="3-14-3-案例演示"><a href="#3-14-3-案例演示" class="headerlink" title="3.14.3 案例演示"></a>3.14.3 案例演示</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 演示golang中的基本数据类型的转换</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> i <span class="keyword">int32</span> = <span class="number">100</span></span><br><span class="line">	<span class="comment">// 希望i =&gt; float</span></span><br><span class="line">	<span class="keyword">var</span> n1 <span class="keyword">float32</span> = <span class="keyword">float32</span>(i)</span><br><span class="line">	<span class="keyword">var</span> n2 <span class="keyword">int8</span> = <span class="keyword">int8</span>(i)</span><br><span class="line">	<span class="keyword">var</span> n3 <span class="keyword">int64</span> = <span class="keyword">int64</span>(i) <span class="comment">// 低精度-&gt;高精度</span></span><br><span class="line"></span><br><span class="line">	fmt.Printf(<span class="string">"i = %v n1 = %v n2 = %v n3 = %v"</span>, i, n1, n2, n3)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">i = <span class="number">100</span> n1 = <span class="number">100</span> n2 = <span class="number">100</span> n3 = <span class="number">100</span></span><br></pre></td></tr></table></figure>

<h3 id="3-14-4-基本数据类型相互转换的注意事项"><a href="#3-14-4-基本数据类型相互转换的注意事项" class="headerlink" title="3.14.4 基本数据类型相互转换的注意事项"></a>3.14.4 基本数据类型相互转换的注意事项</h3><ol>
<li><p>Go中，数据类型的转换可以是从<code>表示范围小-&gt;表示范围大</code>,也可以<code>范围大-&gt;范围小</code></p>
</li>
<li><p>被转换的事变量存储的数据（即值），变量本身的数据类型并没有变化</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 演示golang中的基本数据类型的转换</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> i <span class="keyword">int32</span> = <span class="number">100</span></span><br><span class="line">	<span class="comment">// 希望i =&gt; float</span></span><br><span class="line">	<span class="keyword">var</span> n1 <span class="keyword">float32</span> = <span class="keyword">float32</span>(i)</span><br><span class="line">	<span class="keyword">var</span> n2 <span class="keyword">int8</span> = <span class="keyword">int8</span>(i)</span><br><span class="line">	<span class="keyword">var</span> n3 <span class="keyword">int64</span> = <span class="keyword">int64</span>(i) <span class="comment">// 低精度-&gt;高精度</span></span><br><span class="line"></span><br><span class="line">	fmt.Printf(<span class="string">"i = %v n1 = %v n2 = %v n3 = %v\n"</span>, i, n1, n2, n3)</span><br><span class="line">	fmt.Printf(<span class="string">"i type is %T\n"</span>, i)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<p>输出：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">i = <span class="number">100</span> n1 = <span class="number">100</span> n2 = <span class="number">100</span> n3 = <span class="number">100</span></span><br><span class="line">i <span class="keyword">type</span> is <span class="keyword">int32</span></span><br></pre></td></tr></table></figure>

<p>3）在转换中，比如讲int64转换成int8【-128——127】，编译时不会报错，只是转换的结果是按照溢出处理，和我们希望的结果不一样。因此在转换时，需要考虑数据范围。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 演示golang中的基本数据类型的转换</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> num1 <span class="keyword">int64</span> = <span class="number">99999</span></span><br><span class="line">	<span class="keyword">var</span> num2 <span class="keyword">int8</span> = <span class="keyword">int8</span>(num1)</span><br><span class="line">	fmt.Println(<span class="string">"num2="</span>, num2)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>输出</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">num2 = <span class="number">-97</span></span><br></pre></td></tr></table></figure>

<h3 id="3-14-5-练习题"><a href="#3-14-5-练习题" class="headerlink" title="3.14.5 练习题"></a>3.14.5 练习题</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> n1 <span class="keyword">int32</span> = <span class="number">12</span></span><br><span class="line"><span class="keyword">var</span> n3 <span class="keyword">int8</span></span><br><span class="line"><span class="keyword">var</span> n4 <span class="keyword">int8</span></span><br><span class="line">n4 = <span class="keyword">int8</span>(n1) + <span class="number">127</span></span><br><span class="line">n3 = <span class="keyword">int8</span>(n1) + <span class="number">128</span></span><br></pre></td></tr></table></figure>

<p>解答：<br>n4编译能够通过，但结果会上溢<br>n3编译无法通过，编译器在编译时会检测出128已经超过了int8的数据范围</p>
<h2 id="3-15-基本数据类型和string的转换"><a href="#3-15-基本数据类型和string的转换" class="headerlink" title="3.15 基本数据类型和string的转换"></a>3.15 基本数据类型和string的转换</h2><h3 id="3-15-1-基本介绍"><a href="#3-15-1-基本介绍" class="headerlink" title="3.15.1 基本介绍"></a>3.15.1 基本介绍</h3><p>&emsp;&emsp;在程序开发中，我们经常讲基本数据类型转成string，或者将string转成基本数据类型。</p>
<h3 id="3-15-2-基本数据类型转string类型"><a href="#3-15-2-基本数据类型转string类型" class="headerlink" title="3.15.2 基本数据类型转string类型"></a>3.15.2 基本数据类型转string类型</h3><ul>
<li>方式1：<code>fmt.Sprintf(&quot;%参数&quot;, 表达式)【个人习惯这个，灵活】</code><br>函数的介绍：<br>Springf根据formate参数生成格式化字符串并返回该字符串。<br>参数需要和表达式的数据类型相匹配<br>fmt.Sprintf()会返回转换后的字符串</li>
</ul>
<p><strong>演示案例</strong></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> num1 <span class="keyword">int</span> = <span class="number">99</span></span><br><span class="line">	<span class="keyword">var</span> num2 <span class="keyword">float64</span> = <span class="number">23.456</span></span><br><span class="line">	<span class="keyword">var</span> b <span class="keyword">bool</span> = <span class="literal">true</span></span><br><span class="line">	<span class="keyword">var</span> mychar <span class="keyword">byte</span> = <span class="string">'h'</span></span><br><span class="line">	<span class="keyword">var</span> str <span class="keyword">string</span> <span class="comment">//空的str</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">// 使用第一种方式来转换 fmt.Sprintf方法</span></span><br><span class="line"></span><br><span class="line">	str = fmt.Sprintf(<span class="string">"%d"</span>, num1)</span><br><span class="line">	fmt.Printf(<span class="string">"str tyep %T str = %q\n"</span>, str, str)</span><br><span class="line"></span><br><span class="line">	str = fmt.Sprintf(<span class="string">"%f"</span>, num2)</span><br><span class="line">	fmt.Printf(<span class="string">"str tyep %T str = %q\n"</span>, str, str)</span><br><span class="line"></span><br><span class="line">	str = fmt.Sprintf(<span class="string">"%t"</span>, b)</span><br><span class="line">	fmt.Printf(<span class="string">"str tyep %T str = %q\n"</span>, str, str)</span><br><span class="line"></span><br><span class="line">	str = fmt.Sprintf(<span class="string">"%c"</span>, mychar)</span><br><span class="line">	fmt.Printf(<span class="string">"str tyep %T str = %q\n"</span>, str, str)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">str tyep <span class="keyword">string</span> str = <span class="string">"99"</span></span><br><span class="line">str tyep <span class="keyword">string</span> str = <span class="string">"23.456000"</span></span><br><span class="line">str tyep <span class="keyword">string</span> str = <span class="string">"true"</span></span><br><span class="line">str tyep <span class="keyword">string</span> str = <span class="string">"h"</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>方式2：<code>使用strconv包的函数</code><br><code>func FormatBool(b bool) string</code></p>
<p>  <code>func FormatFloat(f float64, fmt byte, prec, bitSize int) string</code></p>
<p>  <code>func FormatBool(i int64, base int) string</code></p>
<p>  <code>func FormatBool(i unint64, base int) string</code></p>
<p>  <code>func Itoa(i int) string</code></p>
</li>
</ul>
<p><strong>案例演示</strong></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">	<span class="string">"strconv"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> num1 <span class="keyword">int</span> = <span class="number">99</span></span><br><span class="line">	<span class="keyword">var</span> num2 <span class="keyword">float64</span> = <span class="number">23.456</span></span><br><span class="line">	<span class="keyword">var</span> b <span class="keyword">bool</span> = <span class="literal">true</span></span><br><span class="line">	<span class="keyword">var</span> str <span class="keyword">string</span> <span class="comment">//空的str</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">// 使用第二种方式来转换 strconv 函数</span></span><br><span class="line"></span><br><span class="line">	str = strconv.FormatInt(<span class="keyword">int64</span>(num1), <span class="number">10</span>)</span><br><span class="line">	fmt.Printf(<span class="string">"str tyep %T str = %q\n"</span>, str, str)</span><br><span class="line"></span><br><span class="line">	<span class="comment">// strconv.FormatFloat(num64, 'f', 10, 64)</span></span><br><span class="line">	<span class="comment">// 说明：'f'：格式 10：表示小数点后保留10位 64：表示这个小数是float64</span></span><br><span class="line">	str = strconv.FormatFloat(num2, <span class="string">'f'</span>, <span class="number">10</span>, <span class="number">64</span>)</span><br><span class="line">	fmt.Printf(<span class="string">"str tyep %T str = %q\n"</span>, str, str)</span><br><span class="line"></span><br><span class="line">	str = strconv.FormatBool(b)</span><br><span class="line">	fmt.Printf(<span class="string">"str tyep %T str = %q\n"</span>, str, str)</span><br><span class="line"></span><br><span class="line">	<span class="comment">// strconv包中有一个函数Itoa</span></span><br><span class="line">	<span class="keyword">var</span> num3 <span class="keyword">int</span> = <span class="number">4567</span></span><br><span class="line">	str = strconv.Itoa(num3)</span><br><span class="line">	fmt.Printf(<span class="string">"str tyep %T str = %q\n"</span>, str, str)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">str tyep <span class="keyword">string</span> str = <span class="string">"99"</span></span><br><span class="line">str tyep <span class="keyword">string</span> str = <span class="string">"23.4560000000"</span></span><br><span class="line">str tyep <span class="keyword">string</span> str = <span class="string">"true"</span></span><br><span class="line">str tyep <span class="keyword">string</span> str = <span class="string">"4567"</span></span><br></pre></td></tr></table></figure>

<h3 id="3-15-3-string类转换基本数据类型"><a href="#3-15-3-string类转换基本数据类型" class="headerlink" title="3.15.3 string类转换基本数据类型"></a>3.15.3 string类转换基本数据类型</h3><ul>
<li><p>使用strconv包的函数<br><code>func ParseBool(str string)(value bool, err error)</code></p>
<p>  <code>func ParseFloat(s string, bitSize int)(f float64, err error)</code></p>
<p>  <code>func ParseInt(s string, base int, bitSize int)(i int64, err error)</code></p>
<p>  <code>func ParseUint(s string, b int, bitSize int)(n uint64, err error)</code></p>
</li>
<li><p>案例演示</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">	<span class="string">"strconv"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> str <span class="keyword">string</span> = <span class="string">"true"</span></span><br><span class="line">	<span class="keyword">var</span> b <span class="keyword">bool</span></span><br><span class="line">	<span class="comment">// b, _ = strconv.ParseBool(str)</span></span><br><span class="line">	<span class="comment">// 说明</span></span><br><span class="line">	<span class="comment">// 1. strconv.ParseBool(str)函数会返回两个值（varlue bool, err error）</span></span><br><span class="line">	<span class="comment">// 2. 因为我只想获取到value bool，不想获取err所以我使用_忽略</span></span><br><span class="line">	b, _ = strconv.ParseBool(str)</span><br><span class="line">	fmt.Printf(<span class="string">"b type %T b = %v\n"</span>, b, b)</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> str2 <span class="keyword">string</span> = <span class="string">"1234590"</span></span><br><span class="line">	<span class="keyword">var</span> n1 <span class="keyword">int64</span></span><br><span class="line">	<span class="keyword">var</span> n2 <span class="keyword">int</span></span><br><span class="line">	n1, _ = strconv.ParseInt(str2, <span class="number">10</span>, <span class="number">64</span>)</span><br><span class="line">	n2 = <span class="keyword">int</span>(n1)</span><br><span class="line">	fmt.Printf(<span class="string">"n1 type %T n1 = %v\n"</span>, n1, n1)</span><br><span class="line">	fmt.Printf(<span class="string">"n1 type %T n2 = %v\n"</span>, n2, n2)</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> str3 <span class="keyword">string</span> = <span class="string">"123.456"</span></span><br><span class="line">	<span class="keyword">var</span> f1 <span class="keyword">float64</span></span><br><span class="line">	f1, _ = strconv.ParseFloat(str3, <span class="number">64</span>)</span><br><span class="line">	fmt.Printf(<span class="string">"f1 type %T f1 = %v\n"</span>, f1, f1)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>  输出：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">b <span class="keyword">type</span> <span class="keyword">bool</span> b = <span class="literal">true</span></span><br><span class="line">n1 <span class="keyword">type</span> <span class="keyword">int64</span> n1 = <span class="number">1234590</span></span><br><span class="line">n1 <span class="keyword">type</span> <span class="keyword">int</span> n2 = <span class="number">1234590</span></span><br><span class="line">f1 <span class="keyword">type</span> <span class="keyword">float64</span> f1 = <span class="number">123.456</span></span><br></pre></td></tr></table></figure>

<p>  说明：因为返回的事int64或者float64，如希望得到int32,float32等，需如下处理</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> num5 <span class="keyword">int</span> <span class="number">32</span></span><br><span class="line">num5 = <span class="keyword">int32</span>(num)</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="3-15-4-string转基本数据类型的注意事项"><a href="#3-15-4-string转基本数据类型的注意事项" class="headerlink" title="3.15.4 string转基本数据类型的注意事项"></a>3.15.4 string转基本数据类型的注意事项</h3><p>&emsp;&emsp;在将string类型转成基本数据类型时，要确保string类型能够转成有效的数据，比如 我们可以把“123”，转成一个整数，但不能把“hello”转成一个整数，如果这样，Golang直接将其转成0，其他类型也是一样的道理，float-&gt;0 bool-&gt;false</p>
<ul>
<li><p>案例说明</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span>(</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">	<span class="string">"strconv"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> str4 <span class="keyword">string</span> = <span class="string">"hello"</span></span><br><span class="line">	<span class="keyword">var</span> n3 <span class="keyword">int64</span></span><br><span class="line">	n3, _ = strconv.ParseInt(str4, <span class="number">10</span>, <span class="number">64</span>)</span><br><span class="line">	fmt.Printf(<span class="string">"f1 type %T f1 = %v\n"</span>, n3, n3)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>  输出：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">f1 <span class="keyword">type</span> <span class="keyword">int64</span> f1 = <span class="number">0</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="3-16-指针"><a href="#3-16-指针" class="headerlink" title="3.16 指针"></a>3.16 指针</h2><h3 id="3-16-1-基本介绍"><a href="#3-16-1-基本介绍" class="headerlink" title="3.16.1 基本介绍"></a>3.16.1 基本介绍</h3><ol>
<li><p>基本数据类型，变量存的就是值，也叫值类型</p>
</li>
<li><p>获取变量的地址，用<code>&amp;</code>，比如var num int，获取num的地址：&amp;num</p>
</li>
<li><p>指针类型，指针变量存的是一个地址，这个地址指向的空间存的才是值。<br>比如：var ptr *int = &amp;num </p>
</li>
<li><p>获取指针类似说指向的值，使用：<code>*</code><br>var ptr *int，使用<code>*ptr</code>获取p指向的值</p>
</li>
</ol>
<h2 id="3-17-值类型和引用类型"><a href="#3-17-值类型和引用类型" class="headerlink" title="3.17 值类型和引用类型"></a>3.17 值类型和引用类型</h2><h3 id="3-17-1-常见的值类型和引用类型"><a href="#3-17-1-常见的值类型和引用类型" class="headerlink" title="3.17.1 常见的值类型和引用类型"></a>3.17.1 常见的值类型和引用类型</h3><ol>
<li><p><strong>值类型：</strong>基本数据类型int系列，float系列，bool，string、数组和结构体struct</p>
</li>
<li><p><strong>引用类型：</strong>指针、slice切片、map、管道chan、interface等都是引用类型</p>
</li>
</ol>
<h3 id="3-17-2-值类型和引用类型的特点"><a href="#3-17-2-值类型和引用类型的特点" class="headerlink" title="3.17.2 值类型和引用类型的特点"></a>3.17.2 值类型和引用类型的特点</h3><ol>
<li><p><strong>值类型：</strong>变量直接存储，内存通常在<code>栈中分配</code></p>
</li>
<li><p><strong>引用类型：</strong>变量存储的事一个地址，这个的地址对应的空间才真正存储数据（值），内存通常在<code>堆上分配</code>，当没有任何变量引用这个地址时，该地址对应的数据空间就成为一个<code>垃圾</code>，由<code>GC</code>来回收。</p>
</li>
</ol>
<h2 id="3-18-标识符的命名规范"><a href="#3-18-标识符的命名规范" class="headerlink" title="3.18 标识符的命名规范"></a>3.18 标识符的命名规范</h2><h3 id="3-18-1-标识符概念"><a href="#3-18-1-标识符概念" class="headerlink" title="3.18.1 标识符概念"></a>3.18.1 标识符概念</h3><ol>
<li><p>Golang中对各种变量、方法、函数等命名时使用的字符序列成为标识符</p>
</li>
<li><p>凡是自己可以起名字的地方都叫标识符</p>
</li>
</ol>
<h3 id="3-18-2-标识符的命名规则（重要）"><a href="#3-18-2-标识符的命名规则（重要）" class="headerlink" title="3.18.2 标识符的命名规则（重要）"></a>3.18.2 标识符的命名规则（重要）</h3><ol>
<li><p>由26个英文字母大小写，0-9，_ 组成</p>
</li>
<li><p>数字不可以开头</p>
</li>
<li><p>Golang中严格区分大小写</p>
</li>
<li><p>标识符不能包含空格</p>
</li>
<li><p>下划线<code>_</code>本身在Go中是一个特殊的标识符，称为空标识符。可以代表任何其他的标识符，但是他对应的值会被忽略（比如，忽略某个返回值）。所以<code>仅能被作为占位符使用。不能作为标识符使用。</code></p>
</li>
<li><p>不能以系统保留关键字作为标识符，比如break，if等等</p>
</li>
</ol>
<h3 id="3-18-3-标识符命名注意事项"><a href="#3-18-3-标识符命名注意事项" class="headerlink" title="3.18.3 标识符命名注意事项"></a>3.18.3 标识符命名注意事项</h3><ol>
<li><p><strong>包名</strong>：保持package的命名和目录保持一致，尽量采用有意义的包名，简短、有意义、不要和标准库冲突</p>
</li>
<li><p><strong>变量名、函数名、常量名</strong>：采用驼峰命名法</p>
</li>
<li><p>如果变量名、函数名、常量名首字母大写，则可以被其他的包访问；如果首字母小写则只能在本包中使用（注：可简单的理解成，首字母大写是共有的，首字母小写是私有的）。在golang中<strong>没有</strong><code>public</code>、<code>private</code>关键字</p>
</li>
</ol>
<h1 id="4-运算符"><a href="#4-运算符" class="headerlink" title="4 运算符"></a>4 运算符</h1><h2 id="4-1-运算符的基本介绍"><a href="#4-1-运算符的基本介绍" class="headerlink" title="4.1 运算符的基本介绍"></a>4.1 运算符的基本介绍</h2><ol>
<li><p>算数运算符</p>
</li>
<li><p>赋值运算符</p>
</li>
<li><p>比较运算符/关系运算符</p>
</li>
<li><p>逻辑运算符</p>
</li>
<li><p>位运算符</p>
</li>
<li><p>其他运算符</p>
</li>
</ol>
<h2 id="4-2-算数运算符"><a href="#4-2-算数运算符" class="headerlink" title="4.2 算数运算符"></a>4.2 算数运算符</h2><p>常见加减乘除、自增、自减、取余、字符串相加，不作过多介绍。</p>
<p>取余本质：<code>a mod b = a - a / b * b</code><br>eg:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">-10 mod 3 </span><br><span class="line">= (-10) - (-10) / 3 * 3 </span><br><span class="line">= (-10) - (-3) * 3	// 整型之间运算结果为整型</span><br><span class="line">= -10 - (-9) </span><br><span class="line">= -1</span><br></pre></td></tr></table></figure>

<h3 id="4-2-3-算数运算符使用细节"><a href="#4-2-3-算数运算符使用细节" class="headerlink" title="4.2.3 算数运算符使用细节"></a>4.2.3 算数运算符使用细节</h3><p>在golang中<code>++</code>和<code>--</code>只能独立使用</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">a = i++		<span class="comment">// 错误，i++只能独立使用</span></span><br><span class="line">a = i--		<span class="comment">// 错误，i--只能独立使用</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> i++ &gt; <span class="number">0</span> &#123;	<span class="comment">// 错误，i++只能独立使用</span></span><br><span class="line">	pass</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">++i 		<span class="comment">// 错误，在golang中没有前++</span></span><br></pre></td></tr></table></figure>

<h2 id="4-9-运算符的优先级"><a href="#4-9-运算符的优先级" class="headerlink" title="4.9 运算符的优先级"></a>4.9 运算符的优先级</h2><h3 id="4-9-1-运算符优先级一览表"><a href="#4-9-1-运算符优先级一览表" class="headerlink" title="4.9.1 运算符优先级一览表"></a>4.9.1 运算符优先级一览表</h3><h3 id="4-9-2-总结："><a href="#4-9-2-总结：" class="headerlink" title="4.9.2 总结："></a>4.9.2 总结：</h3><ol>
<li><p>运算符有不同的优先级，所谓优先级就是表达式运算中的运算顺序。</p>
</li>
<li><p>只有单目运算符、赋值运算符是右向左运算的</p>
</li>
<li><p>大致的顺序：<br>&emsp;1:括号，++，–<br>&emsp;2:单目运算<br>&emsp;3:算数运算符<br>&emsp;4:移位运算<br>&emsp;5:关系运算符<br>&emsp;6:位运算符<br>&emsp;7:逻辑运算符<br>&emsp;8:赋值运算符<br>&emsp;9:逗号</p>
</li>
</ol>
<h2 id="4-12-位运算"><a href="#4-12-位运算" class="headerlink" title="4.12 位运算"></a>4.12 位运算</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a <span class="keyword">int</span> = <span class="number">1</span> &gt;&gt; <span class="number">2</span></span><br><span class="line"><span class="keyword">var</span> b <span class="keyword">int</span> = <span class="number">-1</span> &gt;&gt; <span class="number">2</span></span><br><span class="line"><span class="keyword">var</span> c <span class="keyword">int</span> = <span class="number">1</span> &lt;&lt; <span class="number">2</span></span><br><span class="line"><span class="keyword">var</span> d <span class="keyword">int</span> = <span class="number">-1</span> &lt;&lt; <span class="number">2</span></span><br><span class="line">求a、b、c、d的结果是多少？</span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">0000</span> <span class="number">0001</span> -&gt; <span class="number">0000</span> <span class="number">0000</span> = <span class="number">0</span></span><br><span class="line">b = <span class="number">1111</span> <span class="number">1111</span>（补码） -&gt; <span class="number">1111</span> <span class="number">1111</span> -&gt; <span class="number">1111</span> <span class="number">1110</span> -&gt; <span class="number">1000</span> <span class="number">0001</span> = <span class="number">-1</span></span><br><span class="line">c = <span class="number">0000</span> <span class="number">0001</span> -&gt; <span class="number">0000</span> <span class="number">0100</span> = <span class="number">4</span></span><br><span class="line">d = <span class="number">1111</span> <span class="number">1111</span>（补码） -&gt; <span class="number">1111</span> <span class="number">1100</span> -&gt; <span class="number">1111</span> <span class="number">1011</span> -&gt; <span class="number">1000</span> <span class="number">0100</span> = <span class="number">-4</span></span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a <span class="keyword">int</span> = <span class="number">-2</span> ^ <span class="number">2</span></span><br><span class="line">求a等于多少？</span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">-2</span> ^ <span class="number">2</span> = <span class="number">-4</span></span><br><span class="line"></span><br><span class="line">过程：</span><br><span class="line"><span class="number">-2</span>的原码：<span class="number">1000</span> <span class="number">0010</span> -&gt; 反码：<span class="number">1111</span> <span class="number">1101</span> -&gt; 补码：<span class="number">1111</span> <span class="number">1110</span></span><br><span class="line"><span class="number">2</span>的补码： <span class="number">0000</span> <span class="number">0010</span></span><br><span class="line"></span><br><span class="line"><span class="number">-2</span> ^ <span class="number">2</span>：</span><br><span class="line">	<span class="number">1111</span> <span class="number">1110</span></span><br><span class="line">	<span class="number">0000</span> <span class="number">0010</span></span><br><span class="line">	---------</span><br><span class="line">	<span class="number">1111</span> <span class="number">1100</span>（任为补码）</span><br><span class="line"><span class="number">1111</span> <span class="number">1100</span> -&gt; 反码：<span class="number">1111</span> <span class="number">1011</span> -&gt; 原码：<span class="number">1000</span> <span class="number">0100</span> -&gt; <span class="number">-4</span></span><br></pre></td></tr></table></figure>

<h3 id="4-12-2-原码、反码、补码"><a href="#4-12-2-原码、反码、补码" class="headerlink" title="4.12.2 原码、反码、补码"></a>4.12.2 原码、反码、补码</h3><ol>
<li><p>正数原码、反码、补码都一样</p>
</li>
<li><p>负数的反码为符号位不变，其他位取反</p>
</li>
<li><p>负数的补码为反码+1</p>
</li>
<li><p>0的反码、补码都是0</p>
</li>
<li><p>在计算机运行时都是以补码的方式来运算的</p>
</li>
</ol>
<h3 id="4-12-3-移位运算"><a href="#4-12-3-移位运算" class="headerlink" title="4.12.3 移位运算"></a>4.12.3 移位运算</h3><p>计算均用补码<br>右移运算：低位溢出，符号位不变，并用符号位补溢出的高位<br>左移运算：符号位不变，低位补0</p>
<h1 id="5-程序流程"><a href="#5-程序流程" class="headerlink" title="5 程序流程"></a>5 程序流程</h1><h3 id="5-3-3-单分支的细节说明"><a href="#5-3-3-单分支的细节说明" class="headerlink" title="5.3.3 单分支的细节说明"></a>5.3.3 单分支的细节说明</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// golang支持在if中，直接定义一个变量，比如下面</span></span><br><span class="line"><span class="keyword">if</span> age := <span class="number">20</span>; age &gt; <span class="number">28</span> &#123;</span><br><span class="line">	fmt.Println(<span class="string">"你年龄大于18，要对自己的行为负责！"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="5-3-4-多分支的细节说明"><a href="#5-3-4-多分支的细节说明" class="headerlink" title="5.3.4 多分支的细节说明"></a>5.3.4 多分支的细节说明</h3><p>多分支最多只能有一个执行入口</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> b <span class="keyword">bool</span> = <span class="literal">true</span></span><br><span class="line"><span class="keyword">if</span> b = <span class="literal">false</span> &#123; <span class="comment">// 错误，只能是条件表达式</span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="5-4-switch分支控制"><a href="#5-4-switch分支控制" class="headerlink" title="5.4 switch分支控制"></a>5.4 switch分支控制</h2><h3 id="5-4-1-基本的介绍"><a href="#5-4-1-基本的介绍" class="headerlink" title="5.4.1 基本的介绍"></a>5.4.1 基本的介绍</h3><ol>
<li><p>switch语句用于基于不同条件不同动作，没一个case分支都是唯一的，从上到下逐一测试，直到匹配为止。</p>
</li>
<li><p>匹配项后面也不需要添加break</p>
</li>
</ol>
<h3 id="5-4-2-基本语法"><a href="#5-4-2-基本语法" class="headerlink" title="5.4.2 基本语法"></a>5.4.2 基本语法</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span> 表达式 &#123;</span><br><span class="line">	<span class="keyword">case</span> 表达式<span class="number">1</span>, 表达式<span class="number">2</span>, ...:</span><br><span class="line">		语句块<span class="number">1</span></span><br><span class="line">	<span class="keyword">case</span> 表达式<span class="number">3</span>, 表达式<span class="number">4</span>, ...:</span><br><span class="line">	<span class="comment">// 这里可以有多个case语句</span></span><br><span class="line">		语句块<span class="number">2</span></span><br><span class="line">	<span class="keyword">default</span>:</span><br><span class="line">		语句块</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="5-4-3-总结"><a href="#5-4-3-总结" class="headerlink" title="5.4.3 总结"></a>5.4.3 总结</h3><ol>
<li><p>golang里case后的表达式可以有多个，使用<code>,</code>间隔</p>
</li>
<li><p>golang中的case语句块不需要写break，即每个case后默认添加了case语句块。</p>
</li>
<li><p>表达式之间的数据类型要相同</p>
</li>
<li><p>表达式中的常量要求不能重复</p>
</li>
<li><p>switch后也可以不带表达式，类似if–else分支来使用</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> age <span class="keyword">int</span> = <span class="number">10</span></span><br><span class="line"><span class="keyword">switch</span> &#123;</span><br><span class="line">	<span class="keyword">case</span> age == <span class="number">10</span>:</span><br><span class="line">		fmt.Println(<span class="string">"1.1"</span>)</span><br><span class="line">	<span class="keyword">case</span> age == <span class="number">20</span>:</span><br><span class="line">		fmt.Println(<span class="string">"1.2"</span>)</span><br><span class="line">	<span class="keyword">default</span>:</span><br><span class="line">		fmt.Println(<span class="string">"1.3"</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// case中也可以对age的范围进行判断</span></span><br><span class="line"><span class="keyword">switch</span> &#123;</span><br><span class="line">	<span class="keyword">case</span> age &gt; <span class="number">90</span>:</span><br><span class="line">		fmt.Println(<span class="string">"2.1"</span>)</span><br><span class="line">	<span class="keyword">case</span> age &gt;= <span class="number">70</span> &amp;&amp; age &lt;= <span class="number">90</span></span><br><span class="line">		fmt.Println(<span class="string">"2.2"</span>)</span><br><span class="line">	<span class="keyword">default</span>:</span><br><span class="line">		fmt.Println(<span class="string">"2.3"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>switch后面也可以之间声明/定义一个变量，分号结束，不推荐</p>
</li>
<li><p>switch穿透 fallthrought</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> num <span class="keyword">int</span> = <span class="number">10</span></span><br><span class="line"><span class="keyword">switch</span> num &#123;</span><br><span class="line">	<span class="keyword">case</span> <span class="number">10</span>:</span><br><span class="line">		fmt.Println(<span class="string">"1"</span>)</span><br><span class="line">		<span class="keyword">fallthrough</span> <span class="comment">// 默认只穿透一层</span></span><br><span class="line">	<span class="keyword">case</span> <span class="number">20</span>:</span><br><span class="line">		fmt.Println(<span class="string">"2"</span>)</span><br><span class="line">	<span class="keyword">default</span>:</span><br><span class="line">		fmt.Println(<span class="string">"没有匹配到"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> 输出：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">2</span></span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="5-5-for循环"><a href="#5-5-for循环" class="headerlink" title="5.5 for循环"></a>5.5 for循环</h2><h3 id="5-字符串遍历方式"><a href="#5-字符串遍历方式" class="headerlink" title="5. 字符串遍历方式"></a>5. 字符串遍历方式</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str <span class="keyword">string</span> = <span class="string">"hello, world"</span></span><br><span class="line"><span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(str); i++ &#123;</span><br><span class="line">	fmt.Println(<span class="string">"%c \n"</span>, str[i])</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 字符串遍历方式2-for-range方式 </span></span><br><span class="line">str = <span class="string">"abc~ok"</span></span><br><span class="line"><span class="keyword">for</span> index, val := <span class="keyword">range</span> str &#123;</span><br><span class="line">	fmt.Printf(<span class="string">"index = %d, val = %c \n"</span>, index, val)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="5-6-while和do……while的实现"><a href="#5-6-while和do……while的实现" class="headerlink" title="5.6 while和do……while的实现"></a>5.6 while和do……while的实现</h2><h3 id="5-6-1-for循环实现while的效果"><a href="#5-6-1-for循环实现while的效果" class="headerlink" title="5.6.1 for循环实现while的效果"></a>5.6.1 for循环实现while的效果</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 循环变量初始化</span></span><br><span class="line"><span class="keyword">for</span> &#123;</span><br><span class="line">	<span class="keyword">if</span> 循环条件表达式 &#123;</span><br><span class="line">		<span class="keyword">break</span> <span class="comment">// 跳出for循环</span></span><br><span class="line">	&#125;</span><br><span class="line">	循环操作（语句）</span><br><span class="line">	循环变量迭代</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="5-6-2-for循环实现do……while循环"><a href="#5-6-2-for循环实现do……while循环" class="headerlink" title="5.6.2 for循环实现do……while循环"></a>5.6.2 for循环实现do……while循环</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> &#123;</span><br><span class="line">	循环操作（语句）</span><br><span class="line">	循环变量迭代</span><br><span class="line">	<span class="keyword">if</span> 循环条件表达式 &#123;</span><br><span class="line">		<span class="keyword">break</span> <span class="comment">// 跳出for循环</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="5-8-跳转控制语句-break"><a href="#5-8-跳转控制语句-break" class="headerlink" title="5.8 跳转控制语句-break"></a>5.8 跳转控制语句-break</h2><h3 id="5-8-1-看一个具体需求，引出break"><a href="#5-8-1-看一个具体需求，引出break" class="headerlink" title="5.8.1 看一个具体需求，引出break"></a>5.8.1 看一个具体需求，引出break</h3><p>随机数的生成</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">	<span class="string">"math/rand"</span></span><br><span class="line">	)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 我们为了生成一个随机数，还需要设置一个种子</span></span><br><span class="line">	<span class="comment">// time.Now().Unix()：返回一个1970.1.1 0分0秒到现在的秒数</span></span><br><span class="line">	<span class="comment">// time.Now().UnixNano()：返回纳秒</span></span><br><span class="line">	rand.Seed(time.Now().Unix())</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 如何随机生成1-100的整数</span></span><br><span class="line">	<span class="comment">// rand.Intn(100)生成[0, 100)的整数</span></span><br><span class="line"></span><br><span class="line">	n := rand.Intn(<span class="number">100</span>) + <span class="number">1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="5-8-6-break的注意事项和使用细节"><a href="#5-8-6-break的注意事项和使用细节" class="headerlink" title="5.8.6 break的注意事项和使用细节"></a>5.8.6 break的注意事项和使用细节</h3><ol>
<li>break语句出现在多层嵌套的语句块中是，可以决定跳出到哪一层<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">lable2:</span><br><span class="line"><span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">4</span>; i++ &#123;</span><br><span class="line">	<span class="keyword">for</span> j := <span class="number">0</span>; j &lt; <span class="number">10</span>; j++ &#123;</span><br><span class="line">		<span class="keyword">if</span> j == <span class="number">2</span> &#123;</span><br><span class="line">			<span class="keyword">break</span> lable2</span><br><span class="line">		&#125;</span><br><span class="line">		fmt.Println(<span class="string">"j="</span>, j) </span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="6-函数"><a href="#6-函数" class="headerlink" title="6 函数"></a>6 函数</h2><h3 id="6-1-函数注意事项"><a href="#6-1-函数注意事项" class="headerlink" title="6.1 函数注意事项"></a>6.1 函数注意事项</h3><ol>
<li><p>公有函数或变量首字母需要大写</p>
</li>
<li><p>包名过长可以给包起别名，若这样做原包名则无法使用</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">packaga main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">	haha <span class="string">".../.../.../xixi"</span></span><br><span class="line">	)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">// haha即为xixi文件夹下包的别名</span></span><br><span class="line">	haha.Func1()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>相同包下不能有相同的变量名以及全局变量名</p>
</li>
<li><p>要编译成可执行文件，必须将包名声明为mian。否则只编译成库文件的话，则可自定义包名</p>
</li>
<li><p>Go语言函数不支持重载</p>
</li>
<li><p>基本数据类型和数组默认都是值传递，即进行值的拷贝，内部修改无法影响到外部的变量。</p>
</li>
<li><p>函数可作为型参进行传递</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">myFun</span><span class="params">(funvar <span class="keyword">func</span>(<span class="keyword">int</span>, <span class="keyword">int</span>)</span> <span class="title">int</span>, <span class="title">num1</span> <span class="title">int</span>, <span class="title">num2</span> <span class="title">int</span>) <span class="title">int</span></span> &#123;</span><br><span class="line">	<span class="keyword">return</span> funvar(num1, num2)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>go可自定义数据类型<br>基本语法：<code>type</code>自定义数据类型名 数据类型<br>&emsp;&emsp;&emsp;&emsp;&emsp;相当于一个别名<br>案例1 ：<code>type myInt int</code><br>&emsp;&emsp;&emsp;&emsp;这时<code>myInt</code>就等价于<code>int</code>来使用<br>案例2 ：<code>type mySum func(int, int) int</code><br>&emsp;&emsp;&emsp;&emsp;这时<code>mySum</code>就等价于一个函数类型<code>func(int, int) int</code></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">// 给int取了别名，在go中myInt和int虽然都是int类型</span></span><br><span class="line">	<span class="comment">// 但是go认为myInt和int是两个类型</span></span><br><span class="line">	<span class="keyword">type</span> myInt <span class="keyword">int</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> num1 myInt</span><br><span class="line">	<span class="keyword">var</span> num2 <span class="keyword">int</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">// num1和num2类型不同，相互赋值需强制转换</span></span><br><span class="line">	num1 = <span class="number">40</span></span><br><span class="line">	num2 = <span class="keyword">int</span>(num1)</span><br><span class="line"></span><br><span class="line">	fmt.Println(num1, num2)</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 这时myFun就是这个类型func(int, int) int</span></span><br><span class="line">	<span class="keyword">type</span> myFunType <span class="function"><span class="keyword">func</span><span class="params">(<span class="keyword">int</span>, <span class="keyword">int</span>)</span> <span class="title">int</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">&#125;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>支持对函数返回值命名</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">getSumAndSub</span><span class="params">(n1 <span class="keyword">int</span>, n2 <span class="keyword">int</span>)</span> <span class="params">(sum <span class="keyword">int</span>, sub <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">	sum = n1 + n2</span><br><span class="line">	sub = n1 - n2</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 不写变量也会默认按照sum, sub的顺序进行返回</span></span><br><span class="line">	<span class="keyword">return</span> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Go支持可变参数</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 支持0到多个参数</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">sum</span><span class="params">(args... <span class="keyword">int</span>)</span> <span class="title">sum</span> <span class="title">int</span></span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 支持1到多个参数</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">sum</span><span class="params">(n1 <span class="keyword">int</span>, args... <span class="keyword">int</span>)</span> <span class="title">sum</span> <span class="title">int</span></span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<p>说明：<br>（1）args是slice切片，通过args[index]可以访问到各个值。<br>（2）如果一个函数的形参列表中有可变参数，则可变参数要放在形参之后<br>案例演示：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 可变参数的使用</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">sum</span><span class="params">(n1 <span class="keyword">int</span>, args ...<span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">	sum := n1</span><br><span class="line">	<span class="comment">// 遍历args</span></span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(args); i++ &#123;</span><br><span class="line">		sum += args[i]</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> sum</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	res := sum(<span class="number">10</span>, <span class="number">0</span>, <span class="number">-1</span>, <span class="number">90</span>, <span class="number">10</span>)</span><br><span class="line">	fmt.Println(res)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="6-16-init函数"><a href="#6-16-init函数" class="headerlink" title="6.16 init函数"></a>6.16 init函数</h2><h3 id="6-16-1-函数说明"><a href="#6-16-1-函数说明" class="headerlink" title="6.16.1 函数说明"></a>6.16.1 函数说明</h3><p>init函数会在main函数调用前被程序调用。<br>通常可以在init函数中完成初始化工作</p>
<h3 id="6-16-2-细节说明"><a href="#6-16-2-细节说明" class="headerlink" title="6.16.2 细节说明"></a>6.16.2 细节说明</h3><ol>
<li><p>如果一个文件中包含去全局变量定义，init函数和main函数，则执行的流程是：<br>变量定义<code>-&gt;</code>init函数<code>-&gt;</code>main函数<br>案例演示：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> age = test()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">test</span><span class="params">()</span> <span class="title">int</span></span> &#123;</span><br><span class="line">	fmt.Println(<span class="string">"test()..."</span>)</span><br><span class="line">	<span class="keyword">return</span> <span class="number">90</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">init</span><span class="params">()</span></span> &#123;</span><br><span class="line">	fmt.Println(<span class="string">"init()..."</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	fmt.Println(<span class="string">"main()...\nage="</span>, age)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 程序输出</span></span><br><span class="line">test()...</span><br><span class="line">init()...</span><br><span class="line">main()...</span><br><span class="line">age= <span class="number">90</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>init函数最要的工作是完成初始化工作<br>具有init函数的包，在包被import的时候，即执行了init函数</p>
</li>
<li><p>思考：如果mian.go和import1.go都含有变量定义、init函数时，执行的流程是怎么样的？<br>&emsp;&emsp;过程：import1的变量定义<code>-&gt;</code>import1的init函数<code>-&gt;</code>main中的变量定义<code>-&gt;</code>main中的init函数<code>-&gt;</code>main中的main()函数<br>&emsp;&emsp;如果import1包中也引用其他的包，则两包之间的执行流程同理。</p>
</li>
</ol>
<h2 id="6-17-匿名函数"><a href="#6-17-匿名函数" class="headerlink" title="6.17 匿名函数"></a>6.17 匿名函数</h2><h3 id="6-17-2-匿名函数使用方式1"><a href="#6-17-2-匿名函数使用方式1" class="headerlink" title="6.17.2 匿名函数使用方式1"></a>6.17.2 匿名函数使用方式1</h3><p>在定义匿名函数时就直接调用，这种方式匿名函数只能使用一次</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">// 案例演示，求两个数的和，使用匿名函数的方式完成</span></span><br><span class="line">	result1 := <span class="function"><span class="keyword">func</span><span class="params">(n1 <span class="keyword">int</span>, n2 <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">		<span class="keyword">return</span> n1 + n2</span><br><span class="line">	&#125;(<span class="number">10</span>, <span class="number">20</span>)</span><br><span class="line"></span><br><span class="line">	fmt.Println(result1)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出</span></span><br><span class="line"><span class="number">30</span></span><br></pre></td></tr></table></figure>

<h3 id="6-17-3-匿名函数使用方式2"><a href="#6-17-3-匿名函数使用方式2" class="headerlink" title="6.17.3 匿名函数使用方式2"></a>6.17.3 匿名函数使用方式2</h3><p>将匿名函数赋给一个变量（函数变量），在通过该变量来调用匿名函数</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">// 案例演示，将匿名函数赋给变量</span></span><br><span class="line">	a := <span class="function"><span class="keyword">func</span><span class="params">(n1, n2 <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">		<span class="keyword">return</span> n1 - n2</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	result := a(<span class="number">10</span>, <span class="number">20</span>)</span><br><span class="line">	fmt.Println(result)</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 输出</span></span><br><span class="line"><span class="number">-10</span></span><br></pre></td></tr></table></figure>

<h3 id="6-17-3-全局匿名函数"><a href="#6-17-3-全局匿名函数" class="headerlink" title="6.17.3 全局匿名函数"></a>6.17.3 全局匿名函数</h3><p>若果将匿名函数赋给一个全局便令，那么这个匿名函数，就成为一个全局变量，可以在程序有效。</p>
<h2 id="6-18-闭包"><a href="#6-18-闭包" class="headerlink" title="6.18 闭包"></a>6.18 闭包</h2><h3 id="6-18-1-介绍"><a href="#6-18-1-介绍" class="headerlink" title="6.18.1 介绍"></a>6.18.1 介绍</h3><p>闭包就是一个<code>函数</code>与其<code>相关的引用环境</code>组合的一个整体（实体）</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 累加器</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">AddUpper</span><span class="params">()</span> <span class="title">func</span><span class="params">(<span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> n <span class="keyword">int</span> = <span class="number">10</span></span><br><span class="line">	<span class="keyword">return</span> <span class="function"><span class="keyword">func</span><span class="params">(x <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">		n = n + x</span><br><span class="line">		<span class="keyword">return</span> n</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">//使用前面的代码</span></span><br><span class="line">	f := AddUpper()</span><br><span class="line">	fmt.Println(f(<span class="number">1</span>)) <span class="comment">// 11</span></span><br><span class="line">	fmt.Println(f(<span class="number">2</span>)) <span class="comment">// 12</span></span><br><span class="line">	fmt.Println(f(<span class="number">3</span>)) <span class="comment">// 13</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>对上面代码的总结和说明</p>
<ol>
<li><p>AddUpper是一个函数，返回的数据类型是func (int) int</p>
</li>
<li><p>闭包的说明</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> n <span class="keyword">int</span> = <span class="number">10</span></span><br><span class="line"><span class="keyword">return</span> <span class="function"><span class="keyword">func</span><span class="params">(x <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">	n = n + x</span><br><span class="line">	<span class="keyword">return</span> n</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> 返回的是一个匿名函数，但是这个匿名函数引用到函数外的n，因此这个匿名函数就和n形成一个整体，构成闭包。</p>
</li>
<li><p>可以这样理解：闭包是类，函数是操作，n是字段。函数和它使用到n构成闭包。</p>
</li>
<li><p>当我们反复的调用f函数时，因为n是初始化一次，因此每调用一次就进行累计</p>
</li>
<li><p>我们要搞清楚闭包的关键，就是要分析出返回的函数它使用（引用）到哪些变量，因为和函数和他引用到的变量共同构成闭包</p>
</li>
</ol>
<h2 id="6-19-函数的defer"><a href="#6-19-函数的defer" class="headerlink" title="6.19 函数的defer"></a>6.19 函数的defer</h2><h3 id="6-19-1-快速入门案例"><a href="#6-19-1-快速入门案例" class="headerlink" title="6.19.1 快速入门案例"></a>6.19.1 快速入门案例</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">sum</span><span class="params">(n1 <span class="keyword">int</span>, n2 <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">	<span class="comment">// 当执行到defer时，暂时不执行，会将defer后面的语句压入到独立的栈（defer栈）</span></span><br><span class="line">	<span class="comment">// 当函数执行完成后，在从defer栈，按照陷入后出的方式出栈、执行</span></span><br><span class="line">	<span class="keyword">defer</span> fmt.Println(<span class="string">"ok1 n1 = "</span>, n1) <span class="comment">// 3</span></span><br><span class="line">	<span class="keyword">defer</span> fmt.Println(<span class="string">"ok2 n2 = "</span>, n2) <span class="comment">// 2</span></span><br><span class="line">	res := n1 + n2</span><br><span class="line">	fmt.Println(<span class="string">"ok3 res = "</span>, res) <span class="comment">// 1</span></span><br><span class="line">	<span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	res := sum(<span class="number">10</span>, <span class="number">20</span>)</span><br><span class="line">	fmt.Println(<span class="string">"res = "</span>, res) <span class="comment">// 4</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出</span></span><br><span class="line">ok3 res =  <span class="number">30</span></span><br><span class="line">ok2 n2 =  <span class="number">20</span></span><br><span class="line">ok1 n1 =  <span class="number">10</span></span><br><span class="line">res =  <span class="number">30</span></span><br></pre></td></tr></table></figure>

<h3 id="6-19-2-defer的细节说明"><a href="#6-19-2-defer的细节说明" class="headerlink" title="6.19.2 defer的细节说明"></a>6.19.2 defer的细节说明</h3><ol start="3">
<li>在defer将语句放入到栈是，也会将相关的值拷贝同时入栈。<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">sum</span><span class="params">(n1 <span class="keyword">int</span>, n2 <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">	<span class="comment">// 当执行到defer时，暂时不执行，会将defer后面的语句压入到独立的栈（defer栈）</span></span><br><span class="line">	<span class="comment">// 当函数执行完成后，在从defer栈，按照陷入后出的方式出栈、执行</span></span><br><span class="line">	<span class="keyword">defer</span> fmt.Println(<span class="string">"ok1 n1 = "</span>, n1) <span class="comment">// 3</span></span><br><span class="line">	<span class="keyword">defer</span> fmt.Println(<span class="string">"ok2 n2 = "</span>, n2) <span class="comment">// 2</span></span><br><span class="line">	n1++ <span class="comment">// 输出：n1 = 10</span></span><br><span class="line">	n2++ <span class="comment">// 输出：n2 = 20</span></span><br><span class="line">	res := n1 + n2</span><br><span class="line">	fmt.Println(<span class="string">"ok3 res = "</span>, res) <span class="comment">// 1 输出：res = 32</span></span><br><span class="line">	<span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	res := sum(<span class="number">10</span>, <span class="number">20</span>)</span><br><span class="line">	fmt.Println(<span class="string">"res = "</span>, res) <span class="comment">// 4 res = 32</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出</span></span><br><span class="line">ok3 res =  <span class="number">32</span></span><br><span class="line">ok2 n2 =  <span class="number">20</span></span><br><span class="line">ok1 n1 =  <span class="number">10</span></span><br><span class="line">res =  <span class="number">32</span></span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="6-19-3-defer的最佳实践"><a href="#6-19-3-defer的最佳实践" class="headerlink" title="6.19.3 defer的最佳实践"></a>6.19.3 defer的最佳实践</h3><p>defer最主要的价值是在，当函数执行完毕后，可以及时的释放函数创建的资源。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">test</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">// 关闭资源</span></span><br><span class="line">	file = openfile(文件名)</span><br><span class="line">	<span class="keyword">defer</span> file.<span class="built_in">close</span>()</span><br><span class="line">	<span class="comment">// 其他代码</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">test</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">// 释放数据库资源</span></span><br><span class="line">	connect = openDatabase()</span><br><span class="line">	<span class="keyword">defer</span> connect.<span class="built_in">close</span>()</span><br><span class="line">	<span class="comment">// 其他代码</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol>
<li><p>在golang编程中的通常做法是，创建资源后，比如（打开了文件，获取了数据库的连接，或者是锁资源），可以执行defer file.close() defer connect.close()</p>
</li>
<li><p>在defer后，可以继续使用创建资源</p>
</li>
<li><p>当函数完毕后，系统会一次从defer栈中，取出语句，关闭资源</p>
</li>
<li><p>这种机制，非常简洁，程序员不用再为在什么时候关闭资源而烦心</p>
</li>
</ol>
<h2 id="6-20-值传递和引用传递"><a href="#6-20-值传递和引用传递" class="headerlink" title="6.20 值传递和引用传递"></a>6.20 值传递和引用传递</h2><h3 id="6-20-3-值类型和引用类型的分类"><a href="#6-20-3-值类型和引用类型的分类" class="headerlink" title="6.20.3 值类型和引用类型的分类"></a>6.20.3 值类型和引用类型的分类</h3><ol>
<li><p>值类型：基本数据类型 <code>int系列</code>、<code>float系列</code>、<code>bool</code>、<code>string</code>、<code>数组和结构体struct</code></p>
</li>
<li><p>引用类型：<code>指针</code>、<code>slice切片</code>、<code>map</code>、<code>管道channel</code>、<code>interface</code>等都是引用类型</p>
</li>
</ol>
<h2 id="6-21-变量作用域"><a href="#6-21-变量作用域" class="headerlink" title="6.21 变量作用域"></a>6.21 变量作用域</h2><ol>
<li><p>函数内部声明/定义的变量就是局部变量</p>
</li>
<li><p>函数外部声明/定义的变量叫全局变量，作用域在整个包都有效，如果其首字母答谢，则作用在整个程序有效</p>
</li>
<li><p>如果变量是在一个代码块，比如for/if中，那么这个变量是在这个代码块中有效</p>
</li>
<li><p>编译器采用就近原则，选取最小的定义的变量执行</p>
</li>
<li><p>全局变量不可在函数体外赋值<br>代码陷阱：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> Age <span class="keyword">int</span> = <span class="number">20</span></span><br><span class="line">Name := <span class="string">"tom"</span>	<span class="comment">// 错误！</span></span><br><span class="line"><span class="comment">// "Name := "tom" "等价于var Name string Name = "tom"</span></span><br><span class="line"><span class="comment">// 变量定义与初始化可以在函数体外执行，赋值不行</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	fmt.Println(<span class="string">"name"</span>, Name)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="6-23-字符串中常用的系统函数"><a href="#6-23-字符串中常用的系统函数" class="headerlink" title="6.23 字符串中常用的系统函数"></a>6.23 字符串中常用的系统函数</h2><ol>
<li><p>统计字符串的长度，按字节<code>len(str)</code><br>utf-8编码中，字母和数字占一个字节，汉字占三个字节</p>
</li>
<li><p>字符串遍历，同时处理中文的问题<code>r := []rune(str)</code><br>将字符串转换成rune的切片可解决</p>
</li>
<li><p>字符串 转 整数<code>n,err := strconv.Atoi(&quot;12&quot;)</code></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">n, err := strconv.Atoi(<span class="string">"123"</span>)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">	fmt.Println(<span class="string">"转换错误"</span>, err)</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">	fmt.Println(<span class="string">"转成的结果是"</span>, n)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>整数 转 字符串：<code>strconv.Itoa(12345)</code></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">str = strconv.Itoa(<span class="number">12345</span>)</span><br><span class="line">fmt.Printf(<span class="string">"str = %v, str = %T"</span>, str, str)</span><br></pre></td></tr></table></figure>
</li>
<li><p>字符串 转 <code>[]byte</code>：<code>[]byte(&quot;hello go&quot;)</code></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> bytes = []<span class="keyword">byte</span>(<span class="string">"hello go"</span>)</span><br><span class="line">fmt.Printf(<span class="string">"bytes=%v\n"</span>, bytes)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出</span></span><br><span class="line">bytes=[<span class="number">104</span> <span class="number">101</span> <span class="number">108</span> <span class="number">108</span> <span class="number">111</span> <span class="number">32</span> <span class="number">103</span> <span class="number">111</span>]</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>[]byte</code> 转 字符串：<code>str = string([byte{97, 98, 99}])</code></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">str = <span class="keyword">string</span>([]<span class="keyword">byte</span>&#123;<span class="number">97</span>, <span class="number">98</span>, <span class="number">99</span>&#125;)</span><br><span class="line">fmt.Printf(<span class="string">"str=%v\n"</span>, str)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出</span></span><br><span class="line">str=abc</span><br></pre></td></tr></table></figure>
</li>
<li><p>10进制 转 2、8、16进制：<code>str = strconv.FormatInt(123, 2)</code>，返回对应的字符串 2可更换为8、16</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">str = strconv.FormatInt(123, 2)</span><br><span class="line">fmt.Printf(&quot;123对应的2进制是=%v\n&quot;, str)</span><br><span class="line">str = strconv.FormatInt(123, 16)</span><br><span class="line">fmt.Printf(&quot;123对应的16进制是=%v\n&quot;, str)</span><br><span class="line"></span><br><span class="line">// 输出</span><br><span class="line">123对应的2进制是=1111011</span><br><span class="line">123对应的16进制是=7b</span><br></pre></td></tr></table></figure>
</li>
<li><p>查找子串是否在指定的字符串中：<code>strings.Contains(&quot;seafood&quot;, &quot;foo&quot;)</code>返回<code>bool</code></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">b := strings.Contains(<span class="string">"seafood"</span>, <span class="string">"foo"</span>)</span><br><span class="line">fmt.Printf(<span class="string">"b=%v\n"</span>, b)</span><br><span class="line">b = strings.Contains(<span class="string">"seafood"</span>, <span class="string">"foo"</span>)</span><br><span class="line">fmt.Printf(<span class="string">"b=%v\n"</span>, b)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出</span></span><br><span class="line">b=<span class="literal">true</span></span><br><span class="line">b=<span class="literal">false</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>统计一个字符串中有几个指定的子串：<code>strings.Count(&quot;ceheese&quot;, &quot;e&quot;)</code>返回<code>int</code></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">num := strings.Count(<span class="string">"ceheese"</span>, <span class="string">"e"</span>)</span><br><span class="line">fmt.Printf(<span class="string">"num=%v"</span>, num)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出</span></span><br><span class="line">num=<span class="number">4</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>不区分大小写的字符串比较（==是区分字母大小写的）：<code>strings.EqualFold(&quot;abc&quot;, &quot;Abc&quot;)</code> 返回<code>bool</code></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">b := strings.EqualFold(<span class="string">"abc"</span>, <span class="string">"Abc"</span>)</span><br><span class="line">fmt.Println(<span class="string">"b="</span>, b)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出</span></span><br><span class="line">b= <span class="literal">true</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>返回子串在字符串中第一次出现的index值，如果没有返回-1：<code>stirngs.Index(&quot;NLT_abc&quot;, &quot;abc&quot;)</code>返回<code>int</code></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">index := strings.Index(<span class="string">"NLT_abc"</span>, <span class="string">"abc"</span>)</span><br><span class="line">fmt.Printf(<span class="string">"index=%v\n"</span>, index)</span><br><span class="line">index = strings.Index(<span class="string">"NLT_abc"</span>, <span class="string">"hello"</span>)</span><br><span class="line">fmt.Printf(<span class="string">"index=%v\n"</span>, index)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出</span></span><br><span class="line">index=<span class="number">4</span></span><br><span class="line">index=<span class="number">-1</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>返回子串在字符串最后出现的index，如果没有返回-1：<code>strings.LastIndex(&quot;go golang&quot;, &quot;go&quot;)</code>返回<code>int</code></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">index = strings.LastIndex(<span class="string">"go golang"</span>, <span class="keyword">go</span>)</span><br><span class="line">fmt.Printf(<span class="string">"index=%v"</span>, index)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出</span></span><br><span class="line">index=<span class="number">3</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>将指定的子串替换成另一个子串：<code>strings.Replace(&quot;go go hello&quot;, &quot;go&quot;, &quot;北京&quot;, n)</code>可以指定替换几个，如果n=-1表示全部替换</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">str := strings.Replace(<span class="string">"go go hello"</span>, <span class="string">"go"</span>，<span class="string">"北京"</span>, <span class="number">1</span>)</span><br><span class="line">fmt.Printf(<span class="string">"str=%v\n"</span>, str)</span><br><span class="line">str = strings.Replace(<span class="string">"go go hello"</span>, <span class="string">"go"</span>，<span class="string">"北京"</span>, <span class="number">-1</span>)</span><br><span class="line">fmt.Printf(<span class="string">"str=%v\n"</span>, str)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出</span></span><br><span class="line">str=北京 <span class="keyword">go</span> hello</span><br><span class="line">str=北京 北京 hello</span><br></pre></td></tr></table></figure>
</li>
<li><p>按照指定的某个字符，为分割标识，将一个字符串拆分成字符串数组：<code>strings.Split(&quot;hello,world,ok&quot;, &quot;,&quot;)</code></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">strArr := strings.Split(<span class="string">"hello,world,ok"</span>, <span class="string">","</span>)</span><br><span class="line">fmt.Printf(<span class="string">"strArr=%v\n"</span>, strArr)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出</span></span><br><span class="line">strArr=[hello world ok]</span><br></pre></td></tr></table></figure>
</li>
<li><p>将字符串的字母进行大小写的转换：<br>(1)&ensp;<code>strings.ToLower(&quot;Go&quot;)</code>-&gt;<code>go</code></p>
<p>(2)&ensp;<code>strings.ToUpper(&quot;Go&quot;)</code>-&gt;<code>GO</code></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">str := strings.ToLower(<span class="string">"GolAnG hEllo"</span>)</span><br><span class="line">fmt.Printf(<span class="string">"str=%v\n"</span>, str)</span><br><span class="line">str = strings.ToUpper(<span class="string">"GolAnG hEllo"</span>)</span><br><span class="line">fmt.Printf(<span class="string">"str=%v\n"</span>, str)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出</span></span><br><span class="line">str=golang hello</span><br><span class="line">str=GOLANG HELLO</span><br></pre></td></tr></table></figure>
</li>
<li><p>将字符串左右两边的空格去掉：<code>strings.TrimSpace(&quot;  tn a lone gopher ntrn   &quot;)</code></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">str := strings.TrimSpace(<span class="string">"  tn a lone gopher ntrn   "</span>)</span><br><span class="line">fmt.Printf(<span class="string">"str=%v\n"</span>, str)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出</span></span><br><span class="line">str=<span class="string">"tn a lone gopher ntrn"</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>将字符串左右两边指定的字符串去掉：<code>strings.Trim(&quot;! hello! &quot;, &quot; !&quot;)</code><br>这里是将左右两边的空格和叹号去掉</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">str := strings.Trim(<span class="string">"! hello! "</span>, <span class="string">" !"</span>)</span><br><span class="line">fmt.Printf(<span class="string">"str=%q\n"</span>, str)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出</span></span><br><span class="line">str=<span class="string">"hello"</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>将左边的指定字符去掉：<code>strings.TrimLeft(&quot;! hello! &quot;, &quot; !&quot;)</code><br>这里是将左两边的空格和叹号去掉</p>
</li>
<li><p>将右边的指定字符去掉：<code>strings.TrimRight(&quot;! hello! &quot;, &quot; !&quot;)</code><br>这里是将右两边的空格和叹号去掉</p>
</li>
<li><p>判断字符串是否以指定的字符串开头：<br><code>strings.HasPrefix(&quot;ftp://192.168.10.1&quot;, &quot;ftp&quot;)</code></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">b := strings.HasPrefix(<span class="string">"ftp://192.168.10.1"</span>, <span class="string">"ftp"</span>)</span><br><span class="line">fmt.Printf(<span class="string">"b=%v\n"</span>, b)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出</span></span><br><span class="line">b=<span class="literal">true</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>判断字符串是否以指定的字符串结束：<br><code>strings.HasSuffix(&quot;NLT_abc.jpg&quot;, &quot;abc&quot;)</code></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">b := strings.HasSuffix(<span class="string">"NLT_abc.jpg"</span>, <span class="string">"abc"</span>)</span><br><span class="line">fmt.Printf(<span class="string">"b=%v\n"</span>, b)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出</span></span><br><span class="line">b=<span class="literal">false</span></span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="6-24-时间和日期相关的函数"><a href="#6-24-时间和日期相关的函数" class="headerlink" title="6.24 时间和日期相关的函数"></a>6.24 时间和日期相关的函数</h2><h3 id="6-24-1-基本的介绍"><a href="#6-24-1-基本的介绍" class="headerlink" title="6.24.1 基本的介绍"></a>6.24.1 基本的介绍</h3><p>说明：在编程中，程序员会经常使用到日期相关的函数，比如：统计某段代码执行花费的时间等等。</p>
<ol>
<li><p>时间和日期相关的函数需要导入time包</p>
</li>
<li><p><code>time.Time</code>类型，用于表示时间</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">now := time.Now()</span><br><span class="line">fmt.Printf(<span class="string">"now=%v\nnow type = %T"</span>, now, now)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出</span></span><br><span class="line">now=<span class="number">2019</span><span class="number">-09</span><span class="number">-26</span> <span class="number">16</span>:<span class="number">21</span>:<span class="number">33.5572177</span> +<span class="number">0800</span> CST m=+<span class="number">0.003990301</span></span><br><span class="line">now <span class="keyword">type</span> = time.Time</span><br></pre></td></tr></table></figure>
</li>
<li><p>如何获取到其它相关日期</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 通过之前的now可以获取到年月日，时分秒</span></span><br><span class="line">fmt.Printf(<span class="string">"年=%v\n"</span>, now.Year())</span><br><span class="line">fmt.Printf(<span class="string">"月=%v\n"</span>, now.Month())</span><br><span class="line">fmt.Printf(<span class="string">"月=%v\n"</span>, <span class="keyword">int</span>(now.Month())) <span class="comment">// 将月份转换成数字</span></span><br><span class="line">fmt.Printf(<span class="string">"日=%v\n"</span>, now.Day())</span><br><span class="line">fmt.Printf(<span class="string">"时=%v\n"</span>, now.Hour())</span><br><span class="line">fmt.Printf(<span class="string">"分=%v\n"</span>, now.Minute())</span><br><span class="line">fmt.Printf(<span class="string">"秒=%v\n"</span>, now.Second())</span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出</span></span><br><span class="line">年=<span class="number">2019</span></span><br><span class="line">月=September</span><br><span class="line">月=<span class="number">9</span></span><br><span class="line">日=<span class="number">26</span></span><br><span class="line">时=<span class="number">16</span></span><br><span class="line">分=<span class="number">38</span></span><br><span class="line">秒=<span class="number">18</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>格式化日期时间<br>（1）使用Printf或者Sprintf()</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 格式化时间</span></span><br><span class="line">fmt.Printf(<span class="string">"当前年月日 %d-%d-%d %d:%d:%d\n"</span>, now.Year(),</span><br><span class="line">	now.Month(), now.Day(), now.Hour(), now.Minute(), now.Second())</span><br><span class="line"></span><br><span class="line">dateStr := fmt.Sprintf(<span class="string">"当前年月日 %d-%d-%d %d:%d:%d\n"</span>, now.Year(),</span><br><span class="line">	now.Month(), now.Day(), now.Hour(), now.Minute(), now.Second())</span><br><span class="line">fmt.Printf(<span class="string">"dateStr = %v\n"</span>, dateStr)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出</span></span><br><span class="line">当前年月日 <span class="number">2019</span><span class="number">-9</span><span class="number">-26</span> <span class="number">16</span>:<span class="number">38</span>:<span class="number">18</span></span><br><span class="line">当前年月日 <span class="number">2019</span><span class="number">-9</span><span class="number">-26</span> <span class="number">16</span>:<span class="number">38</span>:<span class="number">18</span></span><br></pre></td></tr></table></figure>

<p> （2）使用time.Format()方法完成<br> <code>2006-01-02 15:04:05</code>这个字符串的各个<code>数字是固定的</code>，<code>必须这样写</code><br> <code>2006-01-02 15:04:05</code>这个字符串中的各个数字可以<code>自由组合</code>，这样可以<code>按照程序需求来返回时间、日期</code></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">fmt.Printf(now.Format(<span class="string">"2006-01-02 15:04:05"</span>))</span><br><span class="line">fmt.Println()</span><br><span class="line">fmt.Printf(now.Format(<span class="string">"2006-01-02"</span>))</span><br><span class="line">fmt.Println()</span><br><span class="line">fmt.Printf(now.Format(<span class="string">"15:04:05"</span>))</span><br><span class="line">fmt.Println()</span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出</span></span><br><span class="line"><span class="number">2019</span><span class="number">-09</span><span class="number">-26</span> <span class="number">16</span>:<span class="number">48</span>:<span class="number">38</span></span><br><span class="line"><span class="number">2019</span><span class="number">-09</span><span class="number">-26</span></span><br><span class="line"><span class="number">16</span>:<span class="number">48</span>:<span class="number">38</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>时间的常量</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">cnost &#123;</span><br><span class="line">	Nanosecond Duration = <span class="number">1</span> <span class="comment">// 纳秒 </span></span><br><span class="line">	Microsecond	= <span class="number">1000</span> * Nanosecond <span class="comment">// 微妙</span></span><br><span class="line">	Millsecond	= <span class="number">1000</span> * Microsecond <span class="comment">// 毫秒</span></span><br><span class="line">	Second 		= <span class="number">1000</span> * Millsecond <span class="comment">// 秒</span></span><br><span class="line">	Minute 		= <span class="number">60</span> * Second <span class="comment">// 分</span></span><br><span class="line">	Hour 		= <span class="number">60</span> * Minute <span class="comment">// 时</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> 常量的作用是：<strong>在程序货获取指定时间单位的时间，比如想得到100毫秒</strong><br> 100 * time.Millsecond</p>
</li>
<li><p>结合Sleep来使用以下时间常量</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 需求： 每隔1秒钟打印一个数字，打印到100时就退出</span></span><br><span class="line">	<span class="comment">// 需求2：每隔0.1秒钟打印一个数字，打印到100时就退出</span></span><br><span class="line">	now := time.Now()</span><br><span class="line">	fmt.Printf(<span class="string">"now=%v\nnow type = %T\n"</span>, now, now)</span><br><span class="line"></span><br><span class="line">	i := <span class="number">0</span></span><br><span class="line">	<span class="keyword">for</span> &#123;</span><br><span class="line">		i++</span><br><span class="line">		fmt.Println(i)</span><br><span class="line">		<span class="comment">// 休眠</span></span><br><span class="line">		time.Sleep(<span class="number">100</span> * time.Millisecond)</span><br><span class="line">		<span class="keyword">if</span> i == <span class="number">100</span> &#123;</span><br><span class="line">			<span class="keyword">break</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	i = <span class="number">0</span></span><br><span class="line">	<span class="keyword">for</span> &#123;</span><br><span class="line">		i++</span><br><span class="line">		fmt.Println(i)</span><br><span class="line">		<span class="comment">// 休眠</span></span><br><span class="line">		time.Sleep(time.Second)</span><br><span class="line">		<span class="keyword">if</span> i == <span class="number">100</span> &#123;</span><br><span class="line">			<span class="keyword">break</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>time的Unix和UnixNano的方法<br>（1）<code>func (Time)Unix</code></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(t time)</span> <span class="title">Unix</span><span class="params">()</span> <span class="title">int64</span></span></span><br><span class="line"><span class="function"><span class="title">Unix</span>将<span class="title">t</span>表示为<span class="title">Unix</span>时间，即从时间点<span class="title">January</span> 1,1970 <span class="title">UTC</span></span></span><br><span class="line"><span class="function">到时间点<span class="title">t</span>所经过的时间（单位秒）</span></span><br></pre></td></tr></table></figure>

<p> （2）<code>func (Time)UnixNano</code></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(t time)</span> <span class="title">UnixNano</span><span class="params">()</span> <span class="title">int64</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">UnixNano</span>将<span class="title">t</span>表示为<span class="title">Unix</span>时间，即从时间点<span class="title">January</span> 1,1970 <span class="title">UTC</span></span></span><br><span class="line"><span class="function">到时间点<span class="title">t</span>所经过的时间（单位纳秒）。如果纳秒为单位的<span class="title">Unix</span>时间</span></span><br><span class="line"><span class="function">超出了<span class="title">int64</span>能表示的范围，结果是未定义的。主义这就意味着<span class="title">Time</span></span></span><br><span class="line"><span class="function">零值调用<span class="title">UnixNano</span>方法的话，结果是未定义的。</span></span><br></pre></td></tr></table></figure>

 <figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Unix和Unixnano的使用</span></span><br><span class="line">fmt.Printf(<span class="string">"Unix时间戳=%v unixnano时间戳=%v"</span>, now.Unix(), now.UnixNano())</span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出</span></span><br><span class="line">Unix时间戳=<span class="number">1569496994</span> unixnano时间戳=<span class="number">1569496994357472600</span></span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="6-24-2-编写一段代码来统计函数test03-执行的时间"><a href="#6-24-2-编写一段代码来统计函数test03-执行的时间" class="headerlink" title="6.24.2 编写一段代码来统计函数test03()执行的时间"></a>6.24.2 编写一段代码来统计函数test03()执行的时间</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">	<span class="string">"strconv"</span></span><br><span class="line">	<span class="string">"time"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">test03</span><span class="params">()</span></span> &#123;</span><br><span class="line">	str := <span class="string">""</span></span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">100000</span>; i++ &#123;</span><br><span class="line">		str += <span class="string">"hello"</span> + strconv.Itoa(i)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	start := time.Now().Unix()</span><br><span class="line">	test03()</span><br><span class="line">	end := time.Now().Unix()</span><br><span class="line">	fmt.Printf(<span class="string">"执行test03（）耗费时间为%v秒\n"</span>, end-start)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出</span></span><br><span class="line">执行test03（）耗费时间为<span class="number">6</span>秒</span><br></pre></td></tr></table></figure>

<h2 id="6-25-内置函数"><a href="#6-25-内置函数" class="headerlink" title="6.25 内置函数"></a>6.25 内置函数</h2><p>说明：Golang本身内置的函数，可以直接调用。在官方文档中的builtin包当中。</p>
<ol>
<li><p><code>len()</code>：用来求长度，比如string、array、slice、map、channel</p>
</li>
<li><p><code>new()</code>：用来分配内存，主要用来分配值类型，比如int、float32、struct… 返回的是指针<br>举例说明new()的使用</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	num1 := <span class="number">100</span></span><br><span class="line">	fmt.Printf(<span class="string">"num1的类型%T，num1的值%v，num1的地址%v\n"</span>,</span><br><span class="line">		num1, num1, &amp;num1)</span><br><span class="line"></span><br><span class="line">	num2 := <span class="built_in">new</span>(<span class="keyword">int</span>)</span><br><span class="line">	*num2 = <span class="number">100</span></span><br><span class="line">	fmt.Printf(<span class="string">"num2的类型%T，num2的值%v，num2的地址%v，num2指针指向的值%v\n"</span>,</span><br><span class="line">		num2, num2, &amp;num2, *num2)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出</span></span><br><span class="line">num1的类型<span class="keyword">int</span>，num1的值<span class="number">100</span>，num1的地址<span class="number">0xc000064058</span></span><br><span class="line">num2的类型*<span class="keyword">int</span>，num2的值<span class="number">0xc0000640a0</span>，</span><br><span class="line">	num2的地址<span class="number">0xc00008a020</span>，num2指针指向的值<span class="number">100</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>make()</code>：用来分配内存，主要用来分配引用类型，比如chan、map、slice</p>
</li>
</ol>
<h2 id="6-26-错误处理"><a href="#6-26-错误处理" class="headerlink" title="6.26 错误处理"></a>6.26 错误处理</h2><p>Go中错误处理的方式为：defer、panic、recover</p>
<h3 id="6-26-3-使用defer加recover的形式来处理错误"><a href="#6-26-3-使用defer加recover的形式来处理错误" class="headerlink" title="6.26.3 使用defer加recover的形式来处理错误"></a>6.26.3 使用defer加recover的形式来处理错误</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">	<span class="string">"time"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">test</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">// 使用defer + recover来捕获和处理异常</span></span><br><span class="line">	<span class="keyword">defer</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">		err := <span class="built_in">recover</span>() <span class="comment">// 内置函数，可以捕获到异常</span></span><br><span class="line">		<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;  <span class="comment">// 说明捕获到错误 </span></span><br><span class="line">		<span class="comment">// if err := recover(); err != nil &#123;同时定义、赋值、判断</span></span><br><span class="line">			fmt.Println(<span class="string">"err="</span>, err)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;()</span><br><span class="line"></span><br><span class="line">	num1 := <span class="number">10</span></span><br><span class="line">	num2 := <span class="number">0</span></span><br><span class="line">	res := num1 / num2</span><br><span class="line">	fmt.Println(<span class="string">"res="</span>, res)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">// 测试</span></span><br><span class="line">	test()</span><br><span class="line"></span><br><span class="line">	fmt.Println(<span class="string">"test()下面的代码"</span>)</span><br><span class="line">	time.Sleep(time.Second)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出</span></span><br><span class="line">err= runtime error: integer divide by zero</span><br><span class="line">test()下面的代码</span><br></pre></td></tr></table></figure>

<h3 id="6-26-4-自定义错误"><a href="#6-26-4-自定义错误" class="headerlink" title="6.26.4 自定义错误"></a>6.26.4 自定义错误</h3><p>使用errors.New和panic内置函数</p>
<ol>
<li><p>errors.New(“错误说明”)，会返回一个error类型的值，表示一个错误</p>
</li>
<li><p>panic内置函数，接收一个Interface{}类型的值（也就是任何值了）作为参数。可以接收error类型的变量，输出错误，并退出程序</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 函数去读取一个配置文件init.conf的信息</span></span><br><span class="line"><span class="comment">// 如果文件名传入不正确，我们就返回一个自定义的错误</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">readConf</span><span class="params">(name <span class="keyword">string</span>)</span> <span class="params">(err error)</span></span> &#123;</span><br><span class="line">	<span class="keyword">if</span> name == <span class="string">"config.ini"</span> &#123;</span><br><span class="line">		<span class="comment">// 读取</span></span><br><span class="line">		<span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">		<span class="comment">// 返回一个自定义错误</span></span><br><span class="line">		<span class="keyword">return</span> errors.New(<span class="string">"读取文件错误.."</span>)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">test02</span><span class="params">()</span></span> &#123;</span><br><span class="line">	err := readConf(<span class="string">"config2.ini"</span>)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		<span class="comment">//如果读文件发送错误，就输出这个错误，并且终止程序</span></span><br><span class="line">		<span class="built_in">panic</span>(err)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	fmt.Println(<span class="string">"test02()继续执行。。。"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">// 测试自定义错误的使用</span></span><br><span class="line">	test02()</span><br><span class="line">	fmt.Println(<span class="string">"test02()下面的代码"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出</span></span><br><span class="line"><span class="comment">// 不报错</span></span><br><span class="line">test02()继续执行。。。</span><br><span class="line">test02()下面的代码</span><br><span class="line"></span><br><span class="line"><span class="comment">// 报错</span></span><br><span class="line"><span class="built_in">panic</span>: 读取文件错误..</span><br><span class="line"></span><br><span class="line">goroutine <span class="number">1</span> [running]:</span><br><span class="line">main.test02()</span><br><span class="line">        .../project06/error/main.<span class="keyword">go</span>:<span class="number">39</span> +<span class="number">0x79</span></span><br><span class="line">main.main()</span><br><span class="line">        .../project06/error/main.<span class="keyword">go</span>:<span class="number">47</span> +<span class="number">0x29</span></span><br></pre></td></tr></table></figure>

</li>
</ol>
<h1 id="7-数组与切片"><a href="#7-数组与切片" class="headerlink" title="7 数组与切片"></a>7 数组与切片</h1><h2 id="7-1-数组"><a href="#7-1-数组" class="headerlink" title="7.1 数组"></a>7.1 数组</h2><p>在Go中，数组是值类型</p>
<h2 id="7-2-使用示例"><a href="#7-2-使用示例" class="headerlink" title="7.2 使用示例"></a>7.2 使用示例</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> hens [<span class="number">6</span>]<span class="keyword">float64</span></span><br><span class="line"></span><br><span class="line">	hens[<span class="number">0</span>] = <span class="number">3.0</span></span><br><span class="line">	hens[<span class="number">1</span>] = <span class="number">5.0</span></span><br><span class="line">	hens[<span class="number">2</span>] = <span class="number">1.0</span></span><br><span class="line">	hens[<span class="number">3</span>] = <span class="number">3.4</span></span><br><span class="line">	hens[<span class="number">4</span>] = <span class="number">2.0</span></span><br><span class="line">	hens[<span class="number">5</span>] = <span class="number">50.0</span></span><br><span class="line">	totalWeight := <span class="number">0.0</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(hens); i++ &#123;</span><br><span class="line">		totalWeight += hens[i]</span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println(<span class="string">"总体重："</span>, totalWeight)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出</span></span><br><span class="line">总体重： <span class="number">64.4</span></span><br></pre></td></tr></table></figure>

<h3 id="7-2-1-四种初始化数组的方法"><a href="#7-2-1-四种初始化数组的方法" class="headerlink" title="7.2.1 四种初始化数组的方法"></a>7.2.1 四种初始化数组的方法</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> numArr01 [<span class="number">3</span>]<span class="keyword">int</span> = [<span class="number">3</span>]<span class="keyword">int</span>&#123;<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>&#125;</span><br><span class="line"><span class="keyword">var</span> numArr02 = [<span class="number">3</span>]<span class="keyword">int</span>&#123;<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>&#125;</span><br><span class="line"><span class="keyword">var</span> numArr03 = [...]<span class="keyword">int</span>&#123;<span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>&#125;</span><br><span class="line"><span class="comment">// 按下标位置进行赋值</span></span><br><span class="line"><span class="keyword">var</span> numArr04 = [...]<span class="keyword">int</span>&#123;<span class="number">1</span>:<span class="number">800</span>, <span class="number">0</span>:<span class="number">900</span>, <span class="number">2</span>:<span class="number">999</span>&#125;</span><br></pre></td></tr></table></figure>

<h2 id="7-3-数组的遍历"><a href="#7-3-数组的遍历" class="headerlink" title="7.3 数组的遍历"></a>7.3 数组的遍历</h2><h3 id="7-3-2-for-range遍历"><a href="#7-3-2-for-range遍历" class="headerlink" title="7.3.2 for-range遍历"></a>7.3.2 for-range遍历</h3><p><strong>for-range的基本语法</strong></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> inde, value := <span class="keyword">range</span> array01 &#123;</span><br><span class="line">	...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>说明：</p>
<ol>
<li><p>第一个返回值index是数组的下标</p>
</li>
<li><p>第二个value是该下标位置的值</p>
</li>
<li><p>他们都是仅在for循环内部可见的局部变量</p>
</li>
<li><p>遍历数组元素的时候，如果不想使用下标index，可以直接把下标index标为下划线<code>_</code></p>
</li>
<li><p>index和value的名称不是固定的、即程序员可以自行制定，一般命为index和value</p>
</li>
</ol>
<p><strong>for-range的案例</strong></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> heroes [<span class="number">3</span>]<span class="keyword">string</span> = [<span class="number">3</span>]<span class="keyword">string</span>&#123;<span class="string">"宋江"</span>, <span class="string">"吴用"</span>, <span class="string">"卢俊义"</span>&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> index, value := <span class="keyword">range</span> heroes &#123;</span><br><span class="line">		fmt.Printf(<span class="string">"i=%v v=%v\n"</span>, index, value)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> _, value := <span class="keyword">range</span> heroes &#123;</span><br><span class="line">		fmt.Printf(<span class="string">"元素的值=%v\n"</span>, value)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出</span></span><br><span class="line">i=<span class="number">0</span> v=宋江</span><br><span class="line">i=<span class="number">1</span> v=吴用</span><br><span class="line">i=<span class="number">2</span> v=卢俊义</span><br><span class="line">元素的值=宋江</span><br><span class="line">元素的值=吴用</span><br><span class="line">元素的值=卢俊义</span><br></pre></td></tr></table></figure>

<h2 id="7-7-数组使用的注意事项和细节"><a href="#7-7-数组使用的注意事项和细节" class="headerlink" title="7.7 数组使用的注意事项和细节"></a>7.7 数组使用的注意事项和细节</h2><ol>
<li><p>数组是多个相同类型数据的组合，一个数组一旦声明/定义了，其长度是固定的，不能动态变化</p>
</li>
<li><p>var arr []int 这时arr是一个slice切片，并不是数组</p>
</li>
<li><p>数组中的元素可以是任意数据类型，包括是值类型和引用类型，但不能混用</p>
</li>
<li><p>数组创建之后如果没有赋值，有默认值（零值）<br>数值类型数组：    默认值为0<br>字符串数组：        默认值为””<br>bool数组：        默认值为false</p>
</li>
<li><p>使用数组的步骤<br>（1）声明数组并开辟空间<br>（2）给数组各个元素赋值（默认零值）<br>（3）使用数组</p>
</li>
<li><p>数组的下标是从0开始的</p>
</li>
<li><p>数组下标必须在指定范围内使用，否则报<code>painc</code>数组越界，比如<code>var arr[5]int</code>，则有效下标为0-4</p>
</li>
<li><p>Go的数组属于值类型，在默认情况下是值传递，因此会进行值拷贝。<strong>数组间不会互相影响。</strong></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 函数参数中数组必须写为[n]&lt;type&gt;</span></span><br><span class="line"><span class="comment">// n为数组长度，type为数组值类型</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">test</span><span class="params">(arr [3]<span class="keyword">int</span>)</span></span> &#123; </span><br><span class="line">	arr[<span class="number">0</span>] = <span class="number">300</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 传递数组地址时同样要遵循该原则</span></span><br><span class="line"><span class="comment">// 例如：*[n]&lt;type&gt;</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">test02</span><span class="params">(arr *[3]<span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">	arr[<span class="number">0</span>] = <span class="number">300</span></span><br><span class="line">	<span class="comment">// (*arr)[0] = 300等价</span></span><br><span class="line">	<span class="comment">// 原理待解决</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	arr := [<span class="number">3</span>]<span class="keyword">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;</span><br><span class="line">	test(arr)</span><br><span class="line">	fmt.Printf(<span class="string">"arr=%v"</span>, arr)</span><br><span class="line"></span><br><span class="line">	fmt.Println()</span><br><span class="line"></span><br><span class="line">	test02(&amp;arr)</span><br><span class="line">	fmt.Printf(<span class="string">"arr=%v"</span>, arr)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出</span></span><br><span class="line">arr=[<span class="number">1</span> <span class="number">2</span> <span class="number">3</span>]</span><br><span class="line">arr=[<span class="number">300</span> <span class="number">2</span> <span class="number">3</span>]</span><br></pre></td></tr></table></figure>
</li>
<li><p>如果想在其他函数中，修改原数组的值，可以使用引用传递（指针）</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 传递数组地址时同样要遵循该原则</span></span><br><span class="line"><span class="comment">// 例如：*[n]&lt;type&gt;</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">test02</span><span class="params">(arr *[3]<span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">	arr[<span class="number">0</span>] = <span class="number">300</span></span><br><span class="line">	<span class="comment">// (*arr)[0] = 300等价</span></span><br><span class="line">	<span class="comment">// 原理待解决</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	arr := [<span class="number">3</span>]<span class="keyword">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;</span><br><span class="line">	test02(&amp;arr)</span><br><span class="line">	fmt.Printf(<span class="string">"arr=%v"</span>, arr)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出</span></span><br><span class="line">arr=[<span class="number">300</span> <span class="number">2</span> <span class="number">3</span>]</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>长度是数组类型的一部分</strong>，在传递函数参数是需要考虑数组的长度</p>
</li>
</ol>
<h3 id="7-8-数组应用案例"><a href="#7-8-数组应用案例" class="headerlink" title="7.8 数组应用案例"></a>7.8 数组应用案例</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 求一个数组的和和平均值，用for-range</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> intArray = [...]<span class="keyword">int</span>&#123;<span class="number">1</span>, <span class="number">-1</span>, <span class="number">9</span>, <span class="number">90</span>, <span class="number">12</span>&#125;</span><br><span class="line">	<span class="keyword">var</span> sumArray <span class="keyword">int</span> = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> _, value := <span class="keyword">range</span> intArray &#123;</span><br><span class="line">		sumArray += value</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// go语言不能自动转换类型</span></span><br><span class="line">	<span class="comment">// 这里计算平均值需要显示的转换为浮点型</span></span><br><span class="line">	fmt.Println(<span class="string">"和为："</span>, sumArray, <span class="string">"平均值为："</span>, </span><br><span class="line">		<span class="keyword">float32</span>(sumArray)/<span class="keyword">float32</span>(<span class="built_in">len</span>(intArray)))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="7-9-切片"><a href="#7-9-切片" class="headerlink" title="7.9 切片"></a>7.9 切片</h2><h3 id="7-9-1-切片的基本介绍"><a href="#7-9-1-切片的基本介绍" class="headerlink" title="7.9.1 切片的基本介绍"></a>7.9.1 切片的基本介绍</h3><ol>
<li><p>切片的英文是slice</p>
</li>
<li><p>切片是数组的一个引用，因此切片是引用类型，在进行传递时，遵守引用传递的机制</p>
</li>
<li><p>切片的使用和数组类型，遍历切片、访问切片的元素和求切片的长度<code>len(slice)</code>都一样</p>
</li>
<li><p>切片的长度是可以变化的，因此切片是一个可以动态变化的数组</p>
</li>
<li><p>切片定义的基本语法</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> 变量名 []类型</span><br><span class="line"><span class="keyword">var</span> a []<span class="keyword">int</span></span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="7-9-2-切片的使用示例"><a href="#7-9-2-切片的使用示例" class="headerlink" title="7.9.2 切片的使用示例"></a>7.9.2 切片的使用示例</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">// 演示切片的基本使用</span></span><br><span class="line">	<span class="keyword">var</span> intArr = [...]<span class="keyword">int</span>&#123;<span class="number">1</span>, <span class="number">22</span>, <span class="number">33</span>, <span class="number">66</span>, <span class="number">99</span>&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 声明/定义一个切片</span></span><br><span class="line">	<span class="comment">// slice := intArr[1:3]</span></span><br><span class="line">	<span class="comment">// 1. slice就是切片名</span></span><br><span class="line">	<span class="comment">// 2. intArr[1:3]表示slice引用到intArr这个数组</span></span><br><span class="line">	<span class="comment">// 3. 引用intArr数组的起始下标为1</span></span><br><span class="line">	<span class="comment">//    最后的下标为3（但不包含3）</span></span><br><span class="line">	slice := intArr[<span class="number">1</span>:<span class="number">3</span>]</span><br><span class="line">	fmt.Println(<span class="string">"intArr="</span>, intArr)</span><br><span class="line">	fmt.Println(<span class="string">"slice 的元素是 ="</span>, slice)</span><br><span class="line">	fmt.Println(<span class="string">"slice 的元素个数 ="</span>, <span class="built_in">len</span>(slice))</span><br><span class="line">	<span class="comment">// 切片的容量是可以动态变化 </span></span><br><span class="line">	fmt.Println(<span class="string">"slice 的容量 ="</span>, <span class="built_in">cap</span>(slice))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出</span></span><br><span class="line">intArr= [<span class="number">1</span> <span class="number">22</span> <span class="number">33</span> <span class="number">66</span> <span class="number">99</span>]</span><br><span class="line">slice 的元素是 = [<span class="number">22</span> <span class="number">33</span>]</span><br><span class="line">slice 的元素个数 = <span class="number">2</span></span><br><span class="line">slice 的容量 = <span class="number">4</span></span><br></pre></td></tr></table></figure>

<h2 id="7-12-切片在内存中形式"><a href="#7-12-切片在内存中形式" class="headerlink" title="7.12 切片在内存中形式"></a>7.12 切片在内存中形式</h2><p>slice底层由三个部分构成，本质是一个结构体（struct）<br>第一个部分是引用部分（ptr），第二个部分是长度（len），第三个部分是容量（cap）</p>
<h2 id="7-13-切片的使用方式"><a href="#7-13-切片的使用方式" class="headerlink" title="7.13 切片的使用方式"></a>7.13 切片的使用方式</h2><h3 id="方式1"><a href="#方式1" class="headerlink" title="方式1"></a>方式1</h3><p>定义一个切片，然后让切片去引用一个已经创建好的数组。<br><code>array[b:e]</code>表示创建一个包含e-b个元素的切片，第一个元素是array[b]</p>
<h3 id="方式2"><a href="#方式2" class="headerlink" title="方式2"></a>方式2</h3><p>通过make()来创建切片<br>基本语法：<code>var 切片名 []type = make([]type, len, cap)</code><br>参数说明：<br>&emsp;<code>type</code>    数据类型<br>&emsp;<code>len</code>    &ensp;大小<br>&emsp;<code>cap</code>    &ensp;切片容量（可选，如果缺省则默认与<code>len</code>大小相同。若分配，则要求大于等于<code>len</code>）</p>
<p><strong>案例演示</strong></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> slice []<span class="keyword">float64</span> = <span class="built_in">make</span>([]<span class="keyword">float64</span>, <span class="number">5</span>, <span class="number">10</span>)</span><br><span class="line">	slice[<span class="number">1</span>] = <span class="number">10</span></span><br><span class="line">	slice[<span class="number">3</span>] = <span class="number">20</span></span><br><span class="line"></span><br><span class="line">	fmt.Println(slice)</span><br><span class="line">	fmt.Println(<span class="string">"slice的size="</span>, <span class="built_in">len</span>(slice))</span><br><span class="line">	fmt.Println(<span class="string">"slice的cap"</span>, <span class="built_in">cap</span>(slice))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出</span></span><br><span class="line">[<span class="number">0</span> <span class="number">10</span> <span class="number">0</span> <span class="number">20</span> <span class="number">0</span>]</span><br><span class="line">slice的size= <span class="number">5</span></span><br><span class="line">slice的<span class="built_in">cap</span> <span class="number">10</span></span><br></pre></td></tr></table></figure>

<h3 id="方式3"><a href="#方式3" class="headerlink" title="方式3"></a>方式3</h3><p>定义一个切片，直接就指定具体数组，使用原理类似make()的方式</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> slice []<span class="keyword">string</span> = []<span class="keyword">string</span>&#123;<span class="string">"tom"</span>, <span class="string">"jack"</span>, <span class="string">"mary"</span>&#125;</span><br><span class="line">	fmt.Println(slice)</span><br><span class="line">	fmt.Println(<span class="built_in">len</span>(slice))</span><br><span class="line">	fmt.Println(<span class="built_in">cap</span>(slice))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出</span></span><br><span class="line">[tom jack mary]</span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="number">3</span></span><br></pre></td></tr></table></figure>

<h3 id="方式1与方式2的区别"><a href="#方式1与方式2的区别" class="headerlink" title="方式1与方式2的区别"></a>方式1与方式2的区别</h3><ol>
<li><p>方式1是直接引用数组，这个数组是事先存在的，程序员可见的</p>
</li>
<li><p>方式2是通过make来创建切片，make也会创建一个数组，是由切片在底层进行维护，程序员是看不见的。</p>
</li>
</ol>
<h2 id="7-14-切片的遍历"><a href="#7-14-切片的遍历" class="headerlink" title="7.14 切片的遍历"></a>7.14 切片的遍历</h2><h3 id="for循环实现切片遍历"><a href="#for循环实现切片遍历" class="headerlink" title="for循环实现切片遍历"></a>for循环实现切片遍历</h3><h3 id="for-range方式实现切片遍历"><a href="#for-range方式实现切片遍历" class="headerlink" title="for-range方式实现切片遍历"></a>for-range方式实现切片遍历</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> arr [<span class="number">5</span>]<span class="keyword">int</span> = [...]<span class="keyword">int</span>&#123;<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>, <span class="number">50</span>&#125;</span><br><span class="line">	slice := arr[<span class="number">1</span>:<span class="number">4</span>]</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(slice); i++ &#123;</span><br><span class="line">		fmt.Printf(<span class="string">"slice[%v]=%v\n"</span>, i, slice[i])</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	fmt.Println()</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> index, value := <span class="keyword">range</span> slice &#123;</span><br><span class="line">		fmt.Printf(<span class="string">"slice[%v]=%v\n"</span>, index, value)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出</span></span><br><span class="line">slice[<span class="number">0</span>]=<span class="number">20</span></span><br><span class="line">slice[<span class="number">1</span>]=<span class="number">30</span></span><br><span class="line">slice[<span class="number">2</span>]=<span class="number">40</span></span><br><span class="line"></span><br><span class="line">slice[<span class="number">0</span>]=<span class="number">20</span></span><br><span class="line">slice[<span class="number">1</span>]=<span class="number">30</span></span><br><span class="line">slice[<span class="number">2</span>]=<span class="number">40</span></span><br></pre></td></tr></table></figure>

<h2 id="7-15-切片注意事项和细节说明"><a href="#7-15-切片注意事项和细节说明" class="headerlink" title="7.15 切片注意事项和细节说明"></a>7.15 切片注意事项和细节说明</h2><ol>
<li><p>切片初始化是<code>var slice = arr[stratindex:endindex]</code><br>说明：从arr数组下标<code>arr[startindex]</code>开始，取<code>endindex</code>-<code>startindex</code>个元素作为切片的元素</p>
</li>
<li><p>切片初始化是，仍然不能约见。范围在[0, len(arr)]之间，但是可以动态增长<br>（1）<code>var slice = arr[0:end]</code>可以简写<code>var slice = arr[:end]</code></p>
<p> （2）<code>var slice = arr[strat:len(arr)]</code>可以简写<code>var slice = arr[start:]</code></p>
<p> （3）<code>var slice = arr[0:len(arr)]</code>可以简写<code>var slice = arr[:]</code></p>
</li>
<li><p>cap是一个内置函数，用于统计切片的容量，即最大可以存放多少元素</p>
</li>
<li><p>切片定义完成后，还不能使用，因为本身为空，需要让其引用到一个数组，或者通过make来分配一个空间供切片使用</p>
</li>
<li><p>切片可以继续切片</p>
</li>
<li><p>用append内置函数，可以对切片进行动态增加</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> slice []<span class="keyword">int</span> = []<span class="keyword">int</span>&#123;<span class="number">100</span>, <span class="number">200</span>, <span class="number">300</span>&#125;</span><br><span class="line">	<span class="comment">// 通过append给目标切片追加具体的元素</span></span><br><span class="line">	slice2 := <span class="built_in">append</span>(slice, <span class="number">400</span>, <span class="number">500</span>, <span class="number">600</span>)</span><br><span class="line">	fmt.Println(<span class="string">"slice"</span>, slice)</span><br><span class="line">	fmt.Println(<span class="string">"slice2"</span>, slice2)</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 通过append给目标追加切片</span></span><br><span class="line">	slice = <span class="built_in">append</span>(slice, slice...)</span><br><span class="line">	fmt.Println(<span class="string">"slice"</span>, slice)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出</span></span><br><span class="line">slice [<span class="number">100</span> <span class="number">200</span> <span class="number">300</span>]</span><br><span class="line">slice2 [<span class="number">100</span> <span class="number">200</span> <span class="number">300</span> <span class="number">400</span> <span class="number">500</span> <span class="number">600</span>]</span><br><span class="line">slice [<span class="number">100</span> <span class="number">200</span> <span class="number">300</span> <span class="number">100</span> <span class="number">200</span> <span class="number">300</span>]</span><br></pre></td></tr></table></figure>

<p> 对上面代码的小结：<br> （1）切片append操作的本质就是对数组扩容<br> （2）go底层会创建一下新的数组newArr（安装扩容后大小）<br> （3）将slice原本包含的元素拷贝到新的数组newArr<br> （4）slice重新引用到newArr<br> （5）注意newArr是在底层来维护的，程序员不可见</p>
</li>
<li><p>切片的拷贝操作<br>切片使用copy内置函数完成拷贝</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> slice []<span class="keyword">int</span> = []<span class="keyword">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;</span><br><span class="line">	<span class="keyword">var</span> slice2 = <span class="built_in">make</span>([]<span class="keyword">int</span> ,<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">	<span class="built_in">copy</span>(slice2, slice)</span><br><span class="line">	fmt.Println(<span class="string">"slice="</span>, slice)</span><br><span class="line">	fmt.Println(<span class="string">"slice2="</span>, slice2)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> 对上面代码的说明<br> (1)copy(para1, para2)参数的数据类型是切片<br> (2)按照上面的代码来看，slice和slice2的数据空间是独立、相互不影响。也就是说<code>slice[0]=999</code>,<code>slice2[0]</code>任然是1</p>
</li>
<li><p>关于拷贝的注意事项</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a[]<span class="keyword">int</span> = []<span class="keyword">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;</span><br><span class="line"><span class="keyword">var</span> slice = <span class="built_in">make</span>([]<span class="keyword">int</span>, <span class="number">1</span>)</span><br><span class="line">fmt.Println(slice) <span class="comment">// 0</span></span><br><span class="line"><span class="built_in">copy</span>(slice, a)</span><br><span class="line">fmt.Println(slice) <span class="comment">// 1</span></span><br></pre></td></tr></table></figure>

<p> <code>copy()</code>进行的是无报错复制。</p>
</li>
<li><p>切片注意事项和细节说明<br>·切片是引用类型，所以在传递时，遵守引用传递机制。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> slice []<span class="keyword">int</span></span><br><span class="line">	<span class="keyword">var</span> arr[<span class="number">5</span>]<span class="keyword">int</span> = [...]<span class="keyword">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;</span><br><span class="line">	slice = arr[:]</span><br><span class="line">	<span class="keyword">var</span> slice2 = slice</span><br><span class="line">	slice2[<span class="number">0</span>] = <span class="number">10</span></span><br><span class="line"></span><br><span class="line">	fmt.Println(<span class="string">"slice2"</span>, slice2)	<span class="comment">//[10, 2, 3, 4, 5]</span></span><br><span class="line">	fmt.Println(<span class="string">"slice"</span>, slice)	<span class="comment">//[10, 2, 3, 4, 5]</span></span><br><span class="line">	fmt.Println(<span class="string">"arr"</span>, arr)		<span class="comment">//[10, 2, 3, 4, 5]</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

 <figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">test</span><span class="params">(slice []<span class="keyword">int</span>)</span></span> &#123; <span class="comment">// 传递的是地址值，会修改实参</span></span><br><span class="line">	slice[<span class="number">0</span>] = <span class="number">100</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> slice = []<span class="keyword">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>&#125;</span><br><span class="line">	fmt.Println(<span class="string">"slice="</span>, slice)	<span class="comment">// [1, 2, 3, 4]</span></span><br><span class="line">	test(slice)</span><br><span class="line">	fmt.Println(<span class="string">"slice="</span>, slice)	<span class="comment">// [100, 2, 3, 4]</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="7-16string和slice"><a href="#7-16string和slice" class="headerlink" title="7.16string和slice"></a>7.16string和slice</h2><ol>
<li><p>string的底层是一个byte数组，因此string也可以进行切片处理</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	str := <span class="string">"hello@atguigu"</span></span><br><span class="line">	<span class="comment">// 使用切片获得atguigu</span></span><br><span class="line">	slice := str[<span class="number">6</span>:]</span><br><span class="line">	fmt.Println(<span class="string">"slice="</span>, slice)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出</span></span><br><span class="line">slice= atguigu</span><br></pre></td></tr></table></figure>
</li>
<li><p>string和切片在内存的形式，以“abce”画出内存示意图<br>字符串底层实现和切片类似</p>
</li>
<li><p>string是不可变的，也就说不能通过str[0] = ‘z’的方式来修改字符串</p>
</li>
<li><p>如果需要修改字符串，可以先将<code>string</code>-&gt;<code>[]byte</code> || <code>[]rune</code> -&gt;<code>修改</code>-&gt;<code>重写转成string</code></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">arr1 := []<span class="keyword">byte</span>(str)</span><br><span class="line">arr1[<span class="number">0</span>] = <span class="string">'z'</span></span><br><span class="line">str = <span class="keyword">string</span>(arr1)</span><br><span class="line">fmt.Println(<span class="string">"str ="</span>, str)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 细节，我们转成[]byte后，可以处理英文和数字，但是不能处理中文</span></span><br><span class="line"><span class="comment">// 原因是[]byte按字节来处理，而一个汉字是三个字节，所以会乱码</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 解决方法是将 string 转成[]rune即可，因为[]rune是按字符处理</span></span><br><span class="line"><span class="comment">// 兼容汉字</span></span><br><span class="line">arr2 := []<span class="keyword">rune</span>(str)</span><br><span class="line">arr2[<span class="number">0</span>] = <span class="string">'西'</span></span><br><span class="line">str = <span class="keyword">string</span>(arr2)</span><br><span class="line">fmt.Println(<span class="string">"str2 = "</span>, str)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出</span></span><br><span class="line">str = zello@atguigu</span><br><span class="line">str2 =  西ello@atguigu</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h1 id="8-排序和查找"><a href="#8-排序和查找" class="headerlink" title="8 排序和查找"></a>8 排序和查找</h1><h2 id="8-1-排序的介绍"><a href="#8-1-排序的介绍" class="headerlink" title="8.1 排序的介绍"></a>8.1 排序的介绍</h2><h3 id="8-1-1-内部排序"><a href="#8-1-1-内部排序" class="headerlink" title="8.1.1 内部排序"></a>8.1.1 内部排序</h3><p>指将需要处理的所有数据都加载到内存进行排序。<br>包括（<code>交换式排序法</code>、<code>选择式排序法</code>和<code>插入式排序法</code>）</p>
<p>交换排序可分为两种：</p>
<ol>
<li>冒泡排序（Bubble sort）</li>
<li>选择排序（Quick sort）</li>
</ol>
<h3 id="8-1-2-外部排序"><a href="#8-1-2-外部排序" class="headerlink" title="8.1.2 外部排序"></a>8.1.2 外部排序</h3><p>数据量过大，无法全部加载到内存中，需要借助外部存储进行排序。<br>包括（合并培训法和直接合并排序法）</p>
<h2 id="8-2-冒泡排序的思路分析"><a href="#8-2-冒泡排序的思路分析" class="headerlink" title="8.2 冒泡排序的思路分析"></a>8.2 冒泡排序的思路分析</h2><p>·冒泡排序的实现</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">BubbleSort</span><span class="params">(arr *[5]<span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">	fmt.Println(<span class="string">"排序前 = "</span>, (*arr))</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>((*arr))<span class="number">-1</span>; i++ &#123;</span><br><span class="line">		<span class="keyword">for</span> j := <span class="number">0</span>; j &lt; <span class="built_in">len</span>(*arr)<span class="number">-1</span>-i; j++ &#123;</span><br><span class="line">			<span class="keyword">if</span> (*arr)[j] &gt; (*arr)[j+<span class="number">1</span>] &#123;</span><br><span class="line">				(*arr)[j], (*arr)[j+<span class="number">1</span>] = (*arr)[j+<span class="number">1</span>], (*arr)[j]</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		fmt.Printf(<span class="string">"第%d次循环arr=%v\n"</span>, i+<span class="number">1</span>, *arr)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	arr := [<span class="number">5</span>]<span class="keyword">int</span>&#123;<span class="number">24</span>, <span class="number">69</span>, <span class="number">80</span>, <span class="number">57</span>, <span class="number">13</span>&#125;</span><br><span class="line">	BubbleSort(&amp;arr)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出</span></span><br><span class="line">排序前 =  [<span class="number">24</span> <span class="number">69</span> <span class="number">80</span> <span class="number">57</span> <span class="number">13</span>]</span><br><span class="line">第<span class="number">1</span>次循环arr=[<span class="number">24</span> <span class="number">69</span> <span class="number">57</span> <span class="number">13</span> <span class="number">80</span>]</span><br><span class="line">第<span class="number">2</span>次循环arr=[<span class="number">24</span> <span class="number">57</span> <span class="number">13</span> <span class="number">69</span> <span class="number">80</span>]</span><br><span class="line">第<span class="number">3</span>次循环arr=[<span class="number">24</span> <span class="number">13</span> <span class="number">57</span> <span class="number">69</span> <span class="number">80</span>]</span><br><span class="line">第<span class="number">4</span>次循环arr=[<span class="number">13</span> <span class="number">24</span> <span class="number">57</span> <span class="number">69</span> <span class="number">80</span></span><br></pre></td></tr></table></figure>

<h2 id="8-3-查找"><a href="#8-3-查找" class="headerlink" title="8.3 查找"></a>8.3 查找</h2><ol>
<li><p>顺序查找</p>
</li>
<li><p>二分查找（前提：该数组有序）</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">BinaryFind</span><span class="params">(arr [6]<span class="keyword">int</span>, leftIndex, rightIndex, findVal <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">	<span class="keyword">if</span> leftIndex &gt; rightIndex &#123;</span><br><span class="line">		fmt.Println(<span class="string">"找不到"</span>)</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	middle := (leftIndex + rightIndex) / <span class="number">2</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> arr[middle] &gt; findVal &#123;</span><br><span class="line">		BinaryFind(arr, leftIndex, middle<span class="number">-1</span>, findVal)</span><br><span class="line">	&#125; <span class="keyword">else</span> <span class="keyword">if</span> arr[middle] &lt; findVal &#123;</span><br><span class="line">		BinaryFind(arr, middle+<span class="number">1</span>, rightIndex, findVal)</span><br><span class="line">	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">		fmt.Println(<span class="string">"找到了，下标为"</span>, middle)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	arr := [<span class="number">6</span>]<span class="keyword">int</span>&#123;<span class="number">1</span>, <span class="number">8</span>, <span class="number">10</span>, <span class="number">89</span>, <span class="number">1000</span>, <span class="number">1234</span>&#125;</span><br><span class="line">	BinaryFind(arr, <span class="number">0</span>, <span class="built_in">len</span>(arr)<span class="number">-1</span>, <span class="number">10</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="8-4-二维数组的介绍"><a href="#8-4-二维数组的介绍" class="headerlink" title="8.4 二维数组的介绍"></a>8.4 二维数组的介绍</h2><h3 id="8-4-1-二维数组的遍历"><a href="#8-4-1-二维数组的遍历" class="headerlink" title="8.4.1 二维数组的遍历"></a>8.4.1 二维数组的遍历</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> arr = [<span class="number">2</span>][<span class="number">3</span>]<span class="keyword">int</span>&#123;&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;, &#123;<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>&#125;&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// for循环进行遍历</span></span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(arr); i++ &#123;</span><br><span class="line">		<span class="keyword">for</span> j := <span class="number">0</span>; j &lt; <span class="built_in">len</span>(arr[i]); j++ &#123;</span><br><span class="line">			fmt.Printf(<span class="string">"%v\t"</span>, arr[i][j])</span><br><span class="line">		&#125;</span><br><span class="line">		fmt.Println()</span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println()</span><br><span class="line">	<span class="comment">// for-range进行遍历</span></span><br><span class="line">	<span class="keyword">for</span> i, v := <span class="keyword">range</span> arr &#123;</span><br><span class="line">		fmt.Println(i, v)</span><br><span class="line">		<span class="keyword">for</span> j, v2 := <span class="keyword">range</span> v &#123;</span><br><span class="line">			fmt.Println(j, v2)</span><br><span class="line">		&#125;</span><br><span class="line">		fmt.Println()</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出</span></span><br><span class="line"><span class="number">1</span>       <span class="number">2</span>       <span class="number">3</span></span><br><span class="line"><span class="number">4</span>       <span class="number">5</span>       <span class="number">6</span></span><br><span class="line"></span><br><span class="line"><span class="number">0</span> [<span class="number">1</span> <span class="number">2</span> <span class="number">3</span>]</span><br><span class="line"><span class="number">0</span> <span class="number">1</span></span><br><span class="line"><span class="number">1</span> <span class="number">2</span></span><br><span class="line"><span class="number">2</span> <span class="number">3</span></span><br><span class="line"></span><br><span class="line"><span class="number">1</span> [<span class="number">4</span> <span class="number">5</span> <span class="number">6</span>]</span><br><span class="line"><span class="number">0</span> <span class="number">4</span></span><br><span class="line"><span class="number">1</span> <span class="number">5</span></span><br><span class="line"><span class="number">2</span> <span class="number">6</span></span><br></pre></td></tr></table></figure>

<h1 id="9-map"><a href="#9-map" class="headerlink" title="9 map"></a>9 map</h1><h2 id="9-1-map的基本介绍"><a href="#9-1-map的基本介绍" class="headerlink" title="9.1 map的基本介绍"></a>9.1 map的基本介绍</h2><p>map是key-value数据结构，又称为字段或者关联数组。</p>
<h2 id="9-2-map的声明"><a href="#9-2-map的声明" class="headerlink" title="9.2 map的声明"></a>9.2 map的声明</h2><h3 id="9-2-1-基本语法"><a href="#9-2-1-基本语法" class="headerlink" title="9.2.1 基本语法"></a>9.2.1 基本语法</h3><p><code>var map 变量名 map[keytype]valuetype</code></p>
<ol>
<li><p>key可以是什么类型<br>key可以为<code>bool</code>、<code>数字</code>、<code>string</code>、<code>指针</code>、<code>channel</code>还可以是<code>接口</code>、<code>结构体</code>、<code>数组</code><br>通常为<strong>int</strong>、<strong>string</strong><br>注：slice、map、func类型的不可以作为key</p>
</li>
<li><p>value可以是什么类型<br>value类型与key基本一致，通常为数字、stirng、map、struct</p>
</li>
</ol>
<h3 id="9-2-2-map声明的示例"><a href="#9-2-2-map声明的示例" class="headerlink" title="9.2.2 map声明的示例"></a>9.2.2 map声明的示例</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span></span><br><span class="line"><span class="keyword">var</span> a <span class="keyword">map</span>[<span class="keyword">string</span>]in</span><br><span class="line"><span class="keyword">var</span> a <span class="keyword">map</span>[<span class="keyword">int</span>]<span class="keyword">string</span></span><br><span class="line"><span class="keyword">var</span> a <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">map</span>[<span class="keyword">string</span>]sgring</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">声明是不会分配内存的，初始化需要make分配内存后才能赋值和使用</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<p>案例演示</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">// map的声明和注意事项 key不能重复，value可以重复</span></span><br><span class="line">	<span class="keyword">var</span> a <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span></span><br><span class="line">	<span class="comment">// 值使用map前，需要先make</span></span><br><span class="line">	<span class="comment">// make的作用就是给map分配数据空间</span></span><br><span class="line">	a = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span>, <span class="number">10</span>)</span><br><span class="line">	a[<span class="string">"no1"</span>] = <span class="string">"宋江"</span></span><br><span class="line">	a[<span class="string">"no1"</span>] = <span class="string">"武松"</span></span><br><span class="line">	a[<span class="string">"no2"</span>] = <span class="string">"吴用"</span></span><br><span class="line">	a[<span class="string">"no3"</span>] = <span class="string">"吴用"</span></span><br><span class="line">	fmt.Println(a)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol>
<li><p>map前一定要使用make分配空间</p>
</li>
<li><p>map的key是不能重复的，如果重复了，则以最后这个key-value为准</p>
</li>
<li><p>map的value是可以相同的</p>
</li>
<li><p>map 的key-value是无序的</p>
</li>
<li><p>make内置函数</p>
</li>
</ol>
<h3 id="9-2-3-map的使用方式"><a href="#9-2-3-map的使用方式" class="headerlink" title="9.2.3 map的使用方式"></a>9.2.3 map的使用方式</h3><ol>
<li><p>方式1</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span></span><br><span class="line"><span class="comment">// 需要手动分配空间才可添加键值对</span></span><br><span class="line">a = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span>, <span class="number">10</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>方式2（推荐使用）</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">cities := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 可以直接添加键值对</span></span><br><span class="line">cities[<span class="string">"no1"</span>] = <span class="string">"北京"</span></span><br><span class="line">cities[<span class="string">"no2"</span>] = <span class="string">"天津"</span></span><br><span class="line">cities[<span class="string">"no3"</span>] = <span class="string">"上海"</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>方式3</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">heros := <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span>&#123;</span><br><span class="line">	<span class="string">"hero1"</span>: <span class="string">"xixi"</span>,</span><br><span class="line">	<span class="string">"hero2"</span>: <span class="string">"haha"</span>,</span><br><span class="line">	<span class="string">"hero3"</span>: <span class="string">"meimei"</span>,</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 可以直接添加键值对</span></span><br><span class="line">heros[<span class="string">"hero4"</span>] = <span class="string">"hehe"</span></span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="9-2-4-使用示例"><a href="#9-2-4-使用示例" class="headerlink" title="9.2.4 使用示例"></a>9.2.4 使用示例</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">// 存放3个学生信息，每个学生有name和sex信息</span></span><br><span class="line">	studentMap := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span>)</span><br><span class="line"></span><br><span class="line">	studentMap[<span class="string">"stu01"</span>] = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span>, <span class="number">3</span>)</span><br><span class="line">	studentMap[<span class="string">"stu01"</span>][<span class="string">"name"</span>] = <span class="string">"tom"</span></span><br><span class="line">	studentMap[<span class="string">"stu01"</span>][<span class="string">"sex"</span>] = <span class="string">"男"</span></span><br><span class="line">	studentMap[<span class="string">"stu01"</span>][<span class="string">"address"</span>] = <span class="string">"北京长安街"</span></span><br><span class="line"></span><br><span class="line">	studentMap[<span class="string">"stu02"</span>] = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span>, <span class="number">3</span>)</span><br><span class="line">	studentMap[<span class="string">"stu02"</span>][<span class="string">"name"</span>] = <span class="string">"mary"</span></span><br><span class="line">	studentMap[<span class="string">"stu02"</span>][<span class="string">"sex"</span>] = <span class="string">"女"</span></span><br><span class="line">	studentMap[<span class="string">"stu02"</span>][<span class="string">"address"</span>] = <span class="string">"上海黄浦江"</span></span><br><span class="line">	fmt.Println(studentMap[<span class="string">"stu01"</span>])</span><br><span class="line">	fmt.Println(studentMap[<span class="string">"stu02"</span>])</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出</span></span><br><span class="line"><span class="keyword">map</span>[address:北京长安街 name:tom sex:男]</span><br><span class="line"><span class="keyword">map</span>[address:上海黄浦江 name:mary sex:女]</span><br></pre></td></tr></table></figure>

<h2 id="9-3-map的增删改查操作"><a href="#9-3-map的增删改查操作" class="headerlink" title="9.3 map的增删改查操作"></a>9.3 map的增删改查操作</h2><h3 id="9-3-1-map增加和更新"><a href="#9-3-1-map增加和更新" class="headerlink" title="9.3.1 map增加和更新"></a>9.3.1 map增加和更新</h3><p><code>map[&quot;key&quot;]=value</code>：如果key还没有，就是增加。如果key存在就是修改。</p>
<h3 id="9-3-2-map的删除"><a href="#9-3-2-map的删除" class="headerlink" title="9.3.2 map的删除"></a>9.3.2 map的删除</h3><p><code>delete(map, &quot;key&quot;)</code>：delete是一个内置函数，若果key存在，就删除该key-value，如果key不存在，不操作，但是也不会报错。<br>细节说明：</p>
<ol>
<li><p>遍历key，逐个删除</p>
</li>
<li><p>使用<code>map = make(map[key]type)</code>申请一个新的空间，让gc来回收原来的空间。</p>
</li>
</ol>
<h3 id="9-3-3-map的查找"><a href="#9-3-3-map的查找" class="headerlink" title="9.3.3 map的查找"></a>9.3.3 map的查找</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	cities := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span>)</span><br><span class="line">	cities[<span class="string">"no1"</span>] = <span class="string">"北京"</span></span><br><span class="line">	cities[<span class="string">"no2"</span>] = <span class="string">"天津"</span></span><br><span class="line">	cities[<span class="string">"no3"</span>] = <span class="string">"上海"</span></span><br><span class="line">	fmt.Println(cities)</span><br><span class="line"></span><br><span class="line">	val, ok := cities[<span class="string">"no1"</span>]</span><br><span class="line">	<span class="keyword">if</span> ok &#123;</span><br><span class="line">		fmt.Printf(<span class="string">"有no1 key 值为%v\n"</span>, val)</span><br><span class="line">	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">		fmt.Printf(<span class="string">"没有no1 key 值\n"</span>)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>说明：如果cities这个map中有“no1”，那么ok就会返回true，否则返回false</p>
<h3 id="9-3-4-map的遍历"><a href="#9-3-4-map的遍历" class="headerlink" title="9.3.4 map的遍历"></a>9.3.4 map的遍历</h3><p>map的遍历使用for-range的结构遍历</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">// 使用for-range遍历map</span></span><br><span class="line">	cities := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span>)</span><br><span class="line">	cities[<span class="string">"no1"</span>] = <span class="string">"北京"</span></span><br><span class="line">	cities[<span class="string">"no2"</span>] = <span class="string">"天津"</span></span><br><span class="line">	cities[<span class="string">"no3"</span>] = <span class="string">"上海"</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> k, v := <span class="keyword">range</span> cities &#123;</span><br><span class="line">		fmt.Printf(<span class="string">"k=%v v=%v\n"</span>, k, v)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 使用for-range遍历一个较复杂的map</span></span><br><span class="line">	studentMap := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span>)</span><br><span class="line">	studentMap[<span class="string">"stu01"</span>] = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span>, <span class="number">3</span>)</span><br><span class="line">	studentMap[<span class="string">"stu01"</span>][<span class="string">"name"</span>] = <span class="string">"tom"</span></span><br><span class="line">	studentMap[<span class="string">"stu01"</span>][<span class="string">"sex"</span>] = <span class="string">"男"</span></span><br><span class="line">	studentMap[<span class="string">"stu01"</span>][<span class="string">"address"</span>] = <span class="string">"北京长安街"</span></span><br><span class="line"></span><br><span class="line">	studentMap[<span class="string">"stu02"</span>] = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span>, <span class="number">3</span>)</span><br><span class="line">	studentMap[<span class="string">"stu02"</span>][<span class="string">"name"</span>] = <span class="string">"mary"</span></span><br><span class="line">	studentMap[<span class="string">"stu02"</span>][<span class="string">"sex"</span>] = <span class="string">"女"</span></span><br><span class="line">	studentMap[<span class="string">"stu02"</span>][<span class="string">"address"</span>] = <span class="string">"上海黄浦江"</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> k1, v1 := <span class="keyword">range</span> studentMap &#123;</span><br><span class="line">		fmt.Println(<span class="string">"k1="</span>, k1)</span><br><span class="line">		<span class="keyword">for</span> k2, v2 := <span class="keyword">range</span> v1 &#123;</span><br><span class="line">			fmt.Printf(<span class="string">"\t k2=%v v2=%v\n"</span>, k2, v2)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出</span></span><br><span class="line">k=no1 v=北京</span><br><span class="line">k=no2 v=天津</span><br><span class="line">k=no3 v=上海</span><br><span class="line">k1= stu01</span><br><span class="line">         k2=name v2=tom</span><br><span class="line">         k2=sex v2=男</span><br><span class="line">         k2=address v2=北京长安街</span><br><span class="line">k1= stu02</span><br><span class="line">         k2=address v2=上海黄浦江</span><br><span class="line">         k2=name v2=mary</span><br><span class="line">         k2=sex v2=女</span><br></pre></td></tr></table></figure>

<h3 id="9-3-5-map的长度"><a href="#9-3-5-map的长度" class="headerlink" title="9.3.5 map的长度"></a>9.3.5 map的长度</h3><p><code>func len()</code>通过内建函数来返回map的长度（键值对个数）</p>
<h3 id="9-3-6-map切片"><a href="#9-3-6-map切片" class="headerlink" title="9.3.6 map切片"></a>9.3.6 map切片</h3><p>切片类型如果是map的话，我们则称这个切片为map切片，这样使用map个数就可以动态的变化了</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">/*</span></span><br><span class="line"><span class="comment">		要求：使用一个map来记录monster的信息 name 和 age，也就是说</span></span><br><span class="line"><span class="comment">		一个monster对应一个map，并且妖怪的个数可以动态的增加=》map切片</span></span><br><span class="line"><span class="comment">	*/</span></span><br><span class="line">	<span class="keyword">var</span> monsters []<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span></span><br><span class="line">	<span class="comment">// 准备放入两个妖怪</span></span><br><span class="line">	monsters = <span class="built_in">make</span>([]<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span>, <span class="number">2</span>)</span><br><span class="line">	<span class="comment">// 增加一个妖怪的信息</span></span><br><span class="line">	<span class="keyword">if</span> monsters[<span class="number">0</span>] == <span class="literal">nil</span> &#123;</span><br><span class="line">		monsters[<span class="number">0</span>] = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span>, <span class="number">2</span>)</span><br><span class="line">		monsters[<span class="number">0</span>][<span class="string">"name"</span>] = <span class="string">"牛魔王"</span></span><br><span class="line">		monsters[<span class="number">0</span>][<span class="string">"age"</span>] = <span class="string">"500"</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> monsters[<span class="number">1</span>] == <span class="literal">nil</span> &#123;</span><br><span class="line">		monsters[<span class="number">1</span>] = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span>, <span class="number">2</span>)</span><br><span class="line">		monsters[<span class="number">1</span>][<span class="string">"name"</span>] = <span class="string">"红孩儿"</span></span><br><span class="line">		monsters[<span class="number">1</span>][<span class="string">"age"</span>] = <span class="string">"400"</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// if monsters[2] == nil &#123;</span></span><br><span class="line">	<span class="comment">// 	monsters[2] = make(map[string]string, 2)</span></span><br><span class="line">	<span class="comment">// 	monsters[2]["name"] = "狐狸精"</span></span><br><span class="line">	<span class="comment">// 	monsters[2]["age"] = "300"</span></span><br><span class="line">	<span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">// 需要使用appen函数动态增长map</span></span><br><span class="line">	<span class="comment">// 1. 先定义一个monster信息</span></span><br><span class="line">	newMonster := <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span>&#123;</span><br><span class="line">		<span class="string">"name"</span>: <span class="string">"火云邪神"</span>,</span><br><span class="line">		<span class="string">"age"</span>:  <span class="string">"200"</span>,</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	monsters = <span class="built_in">append</span>(monsters, newMonster)</span><br><span class="line"></span><br><span class="line">	fmt.Println(monsters)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出</span></span><br><span class="line">[<span class="keyword">map</span>[age:<span class="number">500</span> name:牛魔王] <span class="keyword">map</span>[age:<span class="number">400</span> name:红孩儿] <span class="keyword">map</span>[age:<span class="number">200</span> name:火云邪神]]</span><br></pre></td></tr></table></figure>

<h3 id="9-3-7-map排序"><a href="#9-3-7-map排序" class="headerlink" title="9.3.7 map排序"></a>9.3.7 map排序</h3><ol>
<li><p>golang中没有一个专门的方法针对map的key进行排序</p>
</li>
<li><p>golang中的map默认是无序的，注意也不是按照添加顺序进行存放的，你每次遍历，得到的输出可能会不一样</p>
</li>
<li><p>golang中map的排序，是先将key进行排序，然后根据key值遍历输出即可</p>
</li>
</ol>

    </div>

    

    

    <!-- Comments -->
    

</div>
        </section>

    </div>
</div>


</div>

<!-- Footer -->
<div class="push"></div>

<footer class="footer-content">
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 footer-about">
                <h2>About</h2>
                <p>
                    这个主题由<a href="https://github.com/klugjo">Jonathan Klughertz</a>开发.源代码也发布在了Github上.
                </p>
            </div>
            
    <div class="col-xs-6 col-sm-6 col-md-3 col-lg-3 recent-posts">
        <h2>Recent Posts</h2>
        <ul>
            
            <li>
                <a class="footer-post" href="/2019/09/28/算法分析/">算法分析</a>
            </li>
            
            <li>
                <a class="footer-post" href="/2019/07/01/编程风格-好代码的逻辑/">编程风格-好代码的逻辑</a>
            </li>
            
            <li>
                <a class="footer-post" href="/2019/05/30/Go语言笔记/">go语言笔记</a>
            </li>
            
            <li>
                <a class="footer-post" href="/2019/05/06/导航栏使用测试/">导航栏使用测试</a>
            </li>
            
        </ul>
    </div>



            
<div class="col-xs-6 col-sm-6 col-md-3 col-lg-3 footer-categories">
    <h2>Categories</h2>
    <ul>
        
        <li>
            <a class="footer-post" href="/categories/博客简介/">博客简介</a>
        </li>
        
        <li>
            <a class="footer-post" href="/categories/语言学习/">语言学习</a>
        </li>
        
    </ul>
</div>

        </div>
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <ul class="list-inline footer-social-icons">
                    
                    <li class="list-inline-item">
                        <a href="https://github.com/klugjo/hexo-theme-alpha-dust">
                            <span class="footer-icon-container">
                                <i class="fa fa-github"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="https://twitter.com/?lang=en">
                            <span class="footer-icon-container">
                                <i class="fa fa-twitter"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    
                    
                    
                    
                    
                    
                    <li class="list-inline-item">
                        <a href="mailto:test@example.com">
                            <span class="footer-icon-container">
                                <i class="fa fa-envelope-o"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="\#">
                            <span class="footer-icon-container">
                                <i class="fa fa-rss"></i>
                            </span>
                        </a>
                    </li>
                    
                </ul>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <div class="footer-copyright">
                    
                </div>
            </div>
        </div>
    </div>
</footer>

<!-- After footer scripts -->

<!-- jQuery -->
<script src="//code.jquery.com/jquery-2.1.4.min.js"></script>

<!-- Tween Max -->
<script src="//cdnjs.cloudflare.com/ajax/libs/gsap/1.18.5/TweenMax.min.js"></script>

<!-- Gallery -->
<script src="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.js" type="text/javascript" charset="utf-8"></script>

<!-- Custom JavaScript -->
<script src="/js/main.js"></script>

<!-- Disqus Comments -->



</body>

</html>